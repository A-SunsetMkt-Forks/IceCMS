(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1185],{1286:e=>{e.exports={card:"MetricCard_card__NX9Nc",compare:"MetricCard_compare__l_M9E",change:"MetricCard_change__DYILr",value:"MetricCard_value__m2Mhp",prev:"MetricCard_prev__ylYJ5",label:"MetricCard_label__PQabu"}},5421:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(81767),r=n(98780),l=n(99605),s=n.n(l),i=n(93031);let c=function(){let{formatMessage:e,messages:t}=(0,i.ot)();return(0,a.jsxs)("div",{className:s().error,children:[(0,a.jsx)(r.In,{className:s().icon,size:"lg",children:(0,a.jsx)(r.FI.Alert,{})}),(0,a.jsx)(r.EY,{children:e(t.error)})]})}},15962:(e,t,n)=>{"use strict";function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["m","s"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",{days:a,hours:r,minutes:l,seconds:s,ms:i}=function(e){let t=~~(e/86400),n=~~(e/3600)-24*t,a=~~(e/60)-1440*t-60*n;return{days:t,hours:n,minutes:a,seconds:~~e-86400*t-3600*n-60*a,ms:(e-~~e)*1e3}}(e),c="";return(a>0&&-1!==t.indexOf("d")&&(c+="".concat(a,"d").concat(n)),r>0&&-1!==t.indexOf("h")&&(c+="".concat(r,"h").concat(n)),l>0&&-1!==t.indexOf("m")&&(c+="".concat(l,"m").concat(n)),s>0&&-1!==t.indexOf("s")&&(c+="".concat(s,"s").concat(n)),i>0&&-1!==t.indexOf("ms")&&(c+="".concat(i,"ms")),c)?c:"0".concat(t[t.length-1])}function r(e){return Number(e).toFixed(0)}function l(e){let t=Number(e);return t>=1e9?"".concat((t/1e6).toFixed(1),"b"):t>=1e6?"".concat((t/1e6).toFixed(1),"m"):t>=1e5?"".concat((t/1e3).toFixed(0),"k"):t>=1e4?"".concat((t/1e3).toFixed(1),"k"):t>=1e3?"".concat((t/1e3).toFixed(2),"k"):r(t)}function s(e){if(!e)return"#ffffff";let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);let n="#";for(let e=0;e<3;e++)n+=("00"+(t>>8*e&255).toString(16)).slice(-2);return n}function i(e,t){let n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";try{n=new Intl.NumberFormat(a,{style:"currency",currency:t})}catch(e){n=new Intl.NumberFormat(a,{style:"currency",currency:"USD"})}return n.format(e)}function c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US",a=Number(e);return a>=1e9?"".concat(i(a/1e9,t,n),"b"):a>=1e6?"".concat(i(a/1e6,t,n),"m"):a>=1e3?"".concat(i(a/1e3,t,n),"k"):i(a,t,n)}n.d(t,{NG:()=>l,Nb:()=>c,ZV:()=>r,nB:()=>a,qA:()=>s})},19096:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(81767),r=n(93031),l=n(68282),s=n(54793),i=n(98780),c=n(59437),o=n(90570),d=n.n(o);let u=function(e){let{websiteId:t,showAllTime:n=!0}=e,{dir:o}=(0,r.Ym)(),{dateRange:u,saveDateRange:h}=(0,r.Fi)(t),{value:m,startDate:v,endDate:x,offset:_}=u,p="all"===m||(0,l.A)((0,s.BQ)(u,1).startDate,new Date),g=e=>{h((0,s.BQ)(u,e))};return(0,a.jsxs)("div",{className:d().container,children:[(0,a.jsx)(c.A,{className:d().dropdown,value:m,startDate:v,endDate:x,offset:_,onChange:e=>{h(e)},showAllTime:n}),"all"!==m&&!m.startsWith("range")&&(0,a.jsxs)("div",{className:d().buttons,children:[(0,a.jsx)(i.$n,{onClick:()=>g(-1),children:(0,a.jsx)(i.In,{rotate:"rtl"===o?270:90,children:(0,a.jsx)(i.FI.ChevronDown,{})})}),(0,a.jsx)(i.$n,{onClick:()=>g(1),disabled:p,children:(0,a.jsx)(i.In,{rotate:"rtl"===o?90:270,children:(0,a.jsx)(i.FI.ChevronDown,{})})})]})]})}},25218:e=>{e.exports={header:"WebsiteHeader_header__ckUzr",title:"WebsiteHeader_title__1lBey",actions:"WebsiteHeader_actions__hTxFu",selected:"WebsiteHeader_selected__tqItv",links:"WebsiteHeader_links___DgLk",label:"WebsiteHeader_label__lhlgi",icon:"WebsiteHeader_icon__l49fD"}},29994:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(81767),r=n(93031),l=n(634);let s=function(e){var t;let{domain:n,...s}=e,i=(0,r.UK)();if(null==i?void 0:i.privateMode)return null;let c=(null==i?void 0:i.faviconUrl)||l.fr,o=n?function(e){let t=e.match(/^(?:https?:\/\/)?(?:[^@\n]+@)?([^:/\n?=]+)/im);return t&&t.length>1?t[1]:null}(n):null,d=(null==(t=l.uV[o])?void 0:t.domain)||o,u=o?c.replace(/\{\{\s*domain\s*}}/,d):null;return o?(0,a.jsx)("img",{src:u,width:16,height:16,alt:"",...s}):null}},30435:(e,t,n)=>{"use strict";n.d(t,{A:()=>y});var a,r=n(81767),l=n(94118),s=n.n(l),i=n(29994),c=n(93031),o=n(96797),d=n(13647),u=n(98780),h=n(56774),m=n.n(h);let v=function(e){let{websiteId:t,value:n,refetchInterval:a=6e4}=e,{formatMessage:l,messages:s}=(0,c.ot)(),{get:i,useQuery:o}=(0,c.gf)(),{data:h}=o({queryKey:["websites:active",t],queryFn:()=>i("/websites/".concat(t,"/active")),enabled:!!t,refetchInterval:a}),v=(0,d.useMemo)(()=>t?(null==h?void 0:h.visitors)||0:void 0!==n?n:0,[h,n,t]);return 0===v?null:(0,r.jsx)(u.BG,{className:m().container,variant:"success",children:(0,r.jsx)("div",{className:m().text,children:l(s.activeUsers,{x:v})})})};var x=n(4970),_=n.n(x),p=n(90655);function g(){return(g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}let b=function(e){return d.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"0 0 682.667 682.667"},e),a||(a=d.createElement("defs",null,d.createElement("clipPath",{id:"lightning_svg__a",clipPathUnits:"userSpaceOnUse"},d.createElement("path",{d:"M0 512h512V0H0Z"})))),d.createElement("g",{clipPath:"url(#lightning_svg__a)",transform:"matrix(1.33333 0 0 -1.33333 0 682.667)"},d.createElement("path",{d:"M0 0h137.962L69.319-155.807h140.419L.242-482l55.349 222.794h-155.853z",style:{fill:"none",stroke:"currentColor",strokeWidth:30,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10,strokeDasharray:"none",strokeOpacity:1},transform:"translate(201.262 496.994)"})))};var j=n(25218),f=n.n(j);let y=function(e){let{websiteId:t,showLinks:n=!0,children:a}=e,{formatMessage:l,labels:d}=(0,c.ot)(),{renderTeamUrl:h}=(0,c.c0)(),m=(0,p.usePathname)(),{data:x}=(0,c.NQ)(t),{name:g,domain:j}=x||{},y=[{label:l(d.overview),icon:(0,r.jsx)(o.A.Overview,{}),path:""},{label:l(d.events),icon:(0,r.jsx)(b,{}),path:"/events"},{label:l(d.sessions),icon:(0,r.jsx)(o.A.User,{}),path:"/sessions"},{label:l(d.realtime),icon:(0,r.jsx)(o.A.Clock,{}),path:"/realtime"},{label:l(d.compare),icon:(0,r.jsx)(o.A.Compare,{}),path:"/compare"},{label:l(d.reports),icon:(0,r.jsx)(o.A.Reports,{}),path:"/reports"}];return(0,r.jsxs)("div",{className:f().header,children:[(0,r.jsxs)("div",{className:f().title,children:[(0,r.jsx)(i.A,{domain:j}),(0,r.jsx)(u.EY,{children:g}),(0,r.jsx)(v,{websiteId:t})]}),(0,r.jsxs)("div",{className:f().actions,children:[n&&(0,r.jsx)("div",{className:f().links,children:y.map(e=>{let{label:n,icon:a,path:l}=e,i=l?m.includes(l):m.match(/^\/websites\/[\w-]+$/);return(0,r.jsx)(_(),{href:h("/websites/".concat(t).concat(l)),shallow:!0,children:(0,r.jsxs)(u.$n,{variant:"quiet",className:s()({[f().selected]:i}),children:[(0,r.jsx)(u.In,{className:f().icon,children:a}),(0,r.jsx)(u.EY,{className:f().label,children:n})]})},n)})}),a]})]})}},36797:e=>{e.exports={legend:"Legend_legend__h9a1F",label:"Legend_label__HSSWz",hidden:"Legend_hidden__EX6iO"}},37916:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var a=n(81767),r=n(94118),l=n.n(r),s=n(88197),i=n(15962),c=n(88624),o=n(1286),d=n.n(o);let u=e=>{var t,n,r;let{value:o=0,change:u=0,label:h,reverseColors:m=!1,formatValue:v=i.ZV,showLabel:x=!0,showChange:_=!1,showPrevious:p=!1,className:g}=e,b=o-u,j=(o-b)/b*100,f=(0,s.zh)({x:Number(o)||0,from:{x:0}}),y=(0,s.zh)({x:Number(j)||0,from:{x:0}}),N=(0,s.zh)({x:Number(b)||0,from:{x:0}});return(0,a.jsxs)("div",{className:l()(d().card,g,p&&d().compare),children:[x&&(0,a.jsx)("div",{className:d().label,children:h}),(0,a.jsx)(s.CS.div,{className:d().value,title:null==o?void 0:o.toString(),children:null==f||null==(t=f.x)?void 0:t.to(e=>v(e))}),_&&(0,a.jsx)(c.A,{className:d().change,value:u,title:v(u),reverseColors:m,children:(0,a.jsx)(s.CS.span,{children:null==y||null==(n=y.x)?void 0:n.to(e=>"".concat(Math.abs(~~e),"%"))})}),p&&(0,a.jsx)(s.CS.div,{className:l()(d().value,d().prev),title:b.toString(),children:null==N||null==(r=N.x)?void 0:r.to(e=>v(e))})]})}},41769:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var a=n(81767),r=n(13647),l=n(98780),s=n(42297),i=n.n(s);let c=function(e){let{children:t}=e,[n,s]=(0,r.useState)({x:-1e3,y:-1e3});return(0,r.useEffect)(()=>{let e=e=>{s({x:e.clientX,y:e.clientY})};return document.addEventListener("mousemove",e),()=>{document.removeEventListener("mousemove",e)}},[]),(0,a.jsx)(l.m_,{className:i().tooltip,style:{left:n.x,top:n.y},children:t})}},42297:e=>{e.exports={tooltip:"HoverTooltip_tooltip__csrWi"}},56774:e=>{e.exports={container:"ActiveUsers_container___JH1q",text:"ActiveUsers_text__9rsD0"}},59404:e=>{e.exports={container:"DatePickerForm_container__MygMe",calendars:"DatePickerForm_calendars__wK_V1",filter:"DatePickerForm_filter__iM5CX",buttons:"DatePickerForm_buttons__j7UzK"}},59437:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var a=n(81767),r=n(13647),l=n(98780),s=n(38033),i=n(18920),c=n(68282),o=n(47745),d=n(31195),u=n(50136),h=n(93031),m=n(634),v=n(59404),x=n.n(v);let _=function(e){let{startDate:t,endDate:n,minDate:s,maxDate:v,onChange:_,onClose:p}=e,[g,b]=(0,r.useState)((0,i.A)(t,n)?m.YM:m.J2),[j,f]=(0,r.useState)(t),[y,N]=(0,r.useState)(t),[D,A]=(0,r.useState)(n),{dateLocale:C}=(0,h.Ym)(),{formatMessage:M,labels:w}=(0,h.ot)(),k=g===m.YM?(0,c.A)(s,j)&&(0,o.A)(v,j):(0,c.A)(y,D);return(0,a.jsxs)("div",{className:x().container,children:[(0,a.jsx)("div",{className:x().filter,children:(0,a.jsxs)(l.e2,{selectedKey:g,onSelect:e=>b(e),children:[(0,a.jsx)(l.$n,{children:M(w.singleDay)},m.YM),(0,a.jsx)(l.$n,{children:M(w.dateRange)},m.J2)]})}),(0,a.jsxs)("div",{className:x().calendars,children:[g===m.YM&&(0,a.jsx)(l.Vv,{date:j,minDate:s,maxDate:v,locale:C,onChange:f}),g===m.J2&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Vv,{date:y,minDate:s,maxDate:D,locale:C,onChange:N}),(0,a.jsx)(l.Vv,{date:D,minDate:y,maxDate:v,locale:C,onChange:A})]})]}),(0,a.jsxs)("div",{className:x().buttons,children:[(0,a.jsx)(l.$n,{variant:"primary",onClick:()=>{g===m.YM?_("range:".concat((0,d.A)(j).getTime(),":").concat((0,u.A)(j).getTime())):_("range:".concat((0,d.A)(y).getTime(),":").concat((0,u.A)(D).getTime()))},disabled:k,children:M(w.save)}),(0,a.jsx)(l.$n,{onClick:p,children:M(w.cancel)})]})]})};var p=n(96797),g=n(54793),b=n(82189),j=n.n(b),f=n(94118),y=n.n(f);let N=e=>{let{startDate:t,endDate:n,unit:r,onClick:s}=e,{locale:c}=(0,h.Ym)();return(0,a.jsxs)(l.LS,{gap:10,alignItems:"center",wrap:"nowrap",children:[(0,a.jsx)(l.In,{className:"mr-2",onClick:function(e){e.stopPropagation(),s()},children:(0,a.jsx)(p.A.Calendar,{})}),(0,a.jsx)(l.EY,{children:"month"===r?(0,a.jsx)(a.Fragment,{children:(0,g.Yq)(t,"MMMM yyyy",c)}):(0,a.jsxs)(a.Fragment,{children:[(0,g.Yq)(t,"d LLL y",c),!(0,i.A)(t,n)&&" — ".concat((0,g.Yq)(n,"d LLL y",c))]})})]})},D=function(e){let{startDate:t,endDate:n,value:i,offset:c=0,className:o,onChange:d,showAllTime:u=!1,alignment:m="end"}=e,{formatMessage:v,labels:x}=(0,h.ot)(),[p,b]=(0,r.useState)(!1),{locale:f}=(0,h.Ym)(),D=[{label:v(x.today),value:"0day"},{label:v(x.lastHours,{x:24}),value:"24hour"},{label:v(x.thisWeek),value:"0week",divider:!0},{label:v(x.lastDays,{x:7}),value:"7day"},{label:v(x.thisMonth),value:"0month",divider:!0},{label:v(x.lastDays,{x:30}),value:"30day"},{label:v(x.lastDays,{x:90}),value:"90day"},{label:v(x.thisYear),value:"0year",divider:!0},{label:v(x.lastMonths,{x:6}),value:"6month"},{label:v(x.lastMonths,{x:12}),value:"12month"},u&&{label:v(x.allTime),value:"all",divider:!0},{label:v(x.customRange),value:"custom",divider:!0}].filter(e=>e),A=e=>{if("custom"===e)return void b(!0);d(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.ms,{className:y()(o,j().dropdown),items:D,renderValue:e=>{var r;let{unit:l}=(0,g.J8)(e)||{};return c&&"year"===l?(0,g.Yq)(t,"yyyy",f):c&&"month"===l?(0,g.Yq)(t,"MMMM yyyy",f):e.startsWith("range")||c?(0,a.jsx)(N,{startDate:t,endDate:n,unit:l,onClick:()=>A("custom")}):null==(r=D.find(t=>t.value===e))?void 0:r.label},value:i,alignment:m,placeholder:v(x.selectDate),onChange:e=>A(e),children:e=>{let{label:t,value:n,divider:r}=e;return(0,a.jsx)(l.q7,{divider:r,children:t},n)}}),p&&(0,a.jsx)(l.aF,{onClose:()=>b(!1),children:(0,a.jsx)(_,{startDate:t,endDate:n,minDate:new Date(2e3,0,1),maxDate:(0,s.A)(new Date),onChange:e=>{b(!1),d(e)},onClose:()=>b(!1)})})]})}},73260:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(81767),r=n(98780),l=n(5421),s=n(15962),i=n(93246),c=n.n(i);let o=function(e){let{children:t,isLoading:n,isFetched:i,error:o}=e,d=e=>e>=0?(0,s.NG)(e):"-".concat((0,s.NG)(Math.abs(e)));return(0,a.jsxs)("div",{className:c().bar,children:[n&&!i&&(0,a.jsx)(r.Rh,{icon:"dots"}),o&&(0,a.jsx)(l.A,{}),!n&&!o&&i&&(0,r.t_)(t,e=>({format:e.props.format||d}))]})}},75098:e=>{e.exports={label:"ChangeLabel_label__dE2Jn",positive:"ChangeLabel_positive__e5_31",negative:"ChangeLabel_negative__iYKkY",neutral:"ChangeLabel_neutral__S7pch"}},82189:e=>{e.exports={dropdown:"DateFilter_dropdown__FVLKu"}},85088:(e,t,n)=>{"use strict";n.d(t,{t:()=>p,A:()=>g});var a=n(81767),r=n(13647),l=n(98780),s=n(94118),i=n.n(s),c=n(82150),o=n(41769),d=n(33707),u=n(36797),h=n.n(u);let m=function(e){let{items:t=[],onClick:n}=e;return t.find(e=>{let{text:t}=e;return t})?(0,a.jsx)("div",{className:h().legend,children:t.map(e=>{let{text:t,fillStyle:r,hidden:s}=e,c=(0,d.Mj)(r);return(0,a.jsx)("div",{className:i()(h().label,{[h().hidden]:s}),onClick:()=>n(e),children:(0,a.jsx)(l.BG,{color:c.alpha(c.alpha()+.2).toHex(),children:t})},t)})}):null};var v=n(634),x=n(94716),_=n.n(x);function p(e){let{type:t,data:n,isLoading:s=!1,animationDuration:d=v.I$,tooltip:u,updateMode:h,onCreate:x,onUpdate:p,onTooltip:g,className:b,chartOptions:j}=e,f=(0,r.useRef)(null),y=(0,r.useRef)(null),[N,D]=(0,r.useState)([]),A=(0,r.useMemo)(()=>({responsive:!0,maintainAspectRatio:!1,animation:{duration:d,resize:{duration:0},active:{duration:0}},plugins:{legend:{display:!1},tooltip:{enabled:!1,external:g}},...j}),[j]),C=e=>{c.Ay.defaults.font.family="Inter",y.current=new c.Ay(f.current,{type:t,data:e,options:A}),null==x||x(y.current),D(y.current.legend.legendItems)},M=e=>{e.datasets&&(e.datasets.length===y.current.data.datasets.length?y.current.data.datasets.forEach((t,n)=>{if(null==e?void 0:e.datasets[n]){var a,r;t.data=null==e||null==(a=e.datasets[n])?void 0:a.data,y.current.legend.legendItems[n]&&(y.current.legend.legendItems[n].text=null==(r=e.datasets[n])?void 0:r.label)}}):y.current.data.datasets=e.datasets),null!==e.focusLabel&&y.current.data.datasets.forEach(t=>{t.hidden=!!e.focusLabel&&t.label!==e.focusLabel}),y.current.options=A,null==p||p(y.current),y.current.update(h),D(y.current.legend.legendItems)};return(0,r.useEffect)(()=>{n&&(y.current?M(n):C(n))},[n,A]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:i()(_().chart,b),children:[s&&(0,a.jsx)(l.Rh,{position:"page",icon:"dots"}),(0,a.jsx)("canvas",{ref:f})]}),(0,a.jsx)(m,{items:N,onClick:e=>{var n,a,r;if("bar"===t){let{datasetIndex:t}=e,a=y.current.getDatasetMeta(t);a.hidden=null===a.hidden?!(null==(n=y.current.data.datasets[t])?void 0:n.hidden):null}else{let{index:t}=e,n=y.current.getDatasetMeta(0),l=!!(null==n||null==(r=n.data)||null==(a=r[t])?void 0:a.hidden);n.data[t].hidden=!l,y.current.legend.legendItems[t].hidden=!l}y.current.update(h),D(y.current.legend.legendItems)}}),u&&(0,a.jsx)(o.A,{children:(0,a.jsx)("div",{className:_().tooltip,children:u})})]})}let g=p},88624:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var a=n(81767),r=n(94118),l=n.n(r),s=n(98780),i=n(75098),c=n.n(i);let o=function(e){let{value:t,size:n,title:r,reverseColors:i,className:o,children:d}=e,u=t>=0,h=t<0,m=0===t||isNaN(t),v=i?h:u;return(0,a.jsxs)("div",{className:l()(c().label,o,{[c().positive]:v,[c().negative]:!v,[c().neutral]:m}),title:r,children:[!m&&(0,a.jsx)(s.In,{rotate:u?-90:90,size:n,children:(0,a.jsx)(s.FI.ArrowRight,{})}),d||t]})}},90570:e=>{e.exports={container:"WebsiteDateFilter_container__K2Ny3",dropdown:"WebsiteDateFilter_dropdown__7s5BK",buttons:"WebsiteDateFilter_buttons__IGusS"}},93246:e=>{e.exports={bar:"MetricsBar_bar__MpaRI"}},94716:e=>{e.exports={chart:"Chart_chart__q6_pq",tooltip:"Chart_tooltip__cWQWt"}},99605:e=>{e.exports={error:"ErrorMessage_error__wwnDI",icon:"ErrorMessage_icon__o7QK6"}}}]);