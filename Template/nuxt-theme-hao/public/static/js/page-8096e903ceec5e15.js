(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5660],{15912:(e,s,t)=>{"use strict";t.d(s,{default:()=>y});var i=t(81767),n=t(98780),r=t(24163),a=t(17655),d=t(13647),l=t(51630),c=t(4970),o=t.n(c),h=t(3940),x=t(29045),j=t(634),u=t(11686);let g={showCharts:!0,limit:j.Q$,websiteOrder:[],websiteActive:[],editing:!1,isEdited:!1},m=(0,x.vt)(()=>({...g,...(0,u.Gq)(j.q1)}));function _(e){m.setState(e),(0,u.SO)(j.q1,m.getState())}var v=t(30435),b=t(63862),f=t(93031);function p(e){let{websites:s,showCharts:t,limit:r}=e,{formatMessage:a,labels:c}=(0,f.ot)(),{websiteOrder:x,websiteActive:j}=m(),{renderTeamUrl:u}=(0,f.c0)(),{dir:g}=(0,f.Ym)(),_=(0,d.useMemo)(()=>s.filter(e=>!j.length||j.includes(e.id)).map(e=>({...e,order:x.indexOf(e.id)||0})).sort((0,l.firstBy)("order")),[s,x,j]);return(0,i.jsx)("div",{children:_.map((e,s)=>{let{id:d}=e;return s<r?(0,i.jsxs)("div",{children:[(0,i.jsx)(v.A,{websiteId:d,showLinks:!1,children:(0,i.jsx)(o(),{href:u("/websites/".concat(d)),children:(0,i.jsxs)(n.$n,{variant:"primary",children:[(0,i.jsx)(n.EY,{children:a(c.viewDetails)}),(0,i.jsx)(n.In,{children:(0,i.jsx)(n.In,{rotate:180*("rtl"===g),children:(0,i.jsx)(n.FI.ArrowRight,{})})})]})})}),(0,i.jsx)(b.A,{websiteId:d,showChange:!0}),t&&(0,i.jsx)(h.A,{websiteId:d})]},d):null})})}var w=t(96797);let C=function(){let{formatMessage:e,labels:s}=(0,f.ot)();return(0,i.jsxs)(n.LS,{gap:10,children:[(0,i.jsx)(n.oS,{label:e(s.toggleCharts),position:"bottom",children:(0,i.jsx)(n.$n,{onClick:()=>{_(e=>({showCharts:!e.showCharts}))},children:(0,i.jsx)(n.In,{children:(0,i.jsx)(w.A.BarChart,{})})})}),(0,i.jsxs)(n.$n,{onClick:()=>{_({editing:!0})},children:[(0,i.jsx)(n.In,{children:(0,i.jsx)(w.A.Edit,{})}),(0,i.jsx)(n.EY,{children:e(s.edit)})]})]})};var N=t(11410),E=t(94118),A=t.n(E),I=t(95265),D=t.n(I);let P="dashboard-website-ordering",S=function(e){let{teamId:s}=e,{websiteOrder:t,websiteActive:r,isEdited:a}=m(),{formatMessage:c,labels:o}=(0,f.ot)(),[h,x]=(0,d.useState)(t||[]),[j,u]=(0,d.useState)(r||[]),[g,v]=(0,d.useState)(a),[b,p]=(0,d.useState)([]),[w,C]=(0,d.useState)(""),{result:E,query:{isLoading:I},setParams:S}=(0,f.qt)({teamId:s});(0,d.useEffect)(()=>{(null==E?void 0:E.data)&&p(e=>{let s=[...e,...E.data];return s.length<E.count&&S(e=>({...e,page:e.page+1})),s})},[E]);let k=(0,d.useMemo)(()=>b?b.map(e=>({...e,order:h.indexOf(e.id)})).sort((0,l.firstBy)("order")):[],[b,h]);return I?(0,i.jsx)(n.Rh,{}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:D().header,children:[(0,i.jsx)(n.Lw,{className:D().search,value:w,onSearch:C}),(0,i.jsxs)("div",{className:D().buttons,children:[(0,i.jsx)(n.$n,{onClick:function(){_({editing:!1,isEdited:g,websiteOrder:h,websiteActive:j})},variant:"primary",size:"sm",children:c(o.save)}),(0,i.jsx)(n.$n,{onClick:function(){_({editing:!1,websiteOrder:t,websiteActive:r,isEdited:a})},size:"sm",children:c(o.cancel)}),(0,i.jsx)(n.$n,{onClick:function(){x([]),u([]),v(!1)},size:"sm",children:c(o.reset)})]})]}),(0,i.jsx)("div",{className:D().dragActive,children:(0,i.jsx)(N.JY,{onDragEnd:function(e){let{destination:s,source:t}=e;if(!s||s.index===t.index)return;let i=[...k],[n]=i.splice(t.index,1);i.splice(s.index,0,n),x(i.map(e=>(null==e?void 0:e.id)||0)),v(!0)},children:(0,i.jsx)(N.gL,{droppableId:P,children:(e,s)=>(0,i.jsxs)("div",{...e.droppableProps,ref:e.innerRef,style:{marginBottom:s.isDraggingOver?260:null},children:[k.map((e,s)=>{let{id:t,name:r,domain:a}=e;return w&&!"".concat(r.toLowerCase()).concat(a.toLowerCase()).includes(w.toLowerCase())?null:(0,i.jsx)(N.sx,{draggableId:"".concat(P,"-").concat(t),index:s,children:(e,s)=>(0,i.jsxs)("div",{ref:e.innerRef,className:A()(D().item,{[D().active]:s.isDragging}),...e.draggableProps,...e.dragHandleProps,children:[(0,i.jsxs)("div",{className:D().text,children:[(0,i.jsx)("div",{className:D().name,children:r}),(0,i.jsx)("div",{className:D().domain,children:a})]}),(0,i.jsx)(n.lM,{checked:j.includes(t),onChange:()=>{u(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]),v(!0)}})]})},t)}),e.placeholder]})})})})]})};var k=t(27172),O=t(33582);let y=function(){var e;let{formatMessage:s,labels:t,messages:d}=(0,f.ot)(),{teamId:l,renderTeamUrl:c}=(0,f.c0)(),{showCharts:o,editing:h,isEdited:x}=m(),{dir:j}=(0,f.Ym)(),u=x?200:10,{result:g,query:_,params:v,setParams:b}=(0,f.qt)({teamId:l},{pageSize:u}),{page:w}=v,N=!!(null==g||null==(e=g.data)?void 0:e.length);return _.isLoading?(0,i.jsx)(n.Rh,{}):(0,i.jsxs)("section",{style:{marginBottom:60},children:[(0,i.jsx)(r.A,{title:s(t.dashboard),children:!h&&N&&(0,i.jsx)(C,{})}),!N&&(0,i.jsx)(k.A,{message:s(d.noWebsitesConfigured),children:(0,i.jsxs)(O.A,{href:c("/settings"),children:[(0,i.jsx)(n.In,{rotate:180*("rtl"===j),children:(0,i.jsx)(n.FI.ArrowRight,{})}),(0,i.jsx)(n.EY,{children:s(d.goToSettings)})]})}),N&&(0,i.jsxs)(i.Fragment,{children:[h&&(0,i.jsx)(S,{teamId:l}),!h&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p,{websites:null==g?void 0:g.data,showCharts:o,limit:u}),(0,i.jsx)(a.A,{page:w,pageSize:u,count:null==g?void 0:g.count,onPageChange:e=>{b({...v,page:e})}})]})]})]})}},17655:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var i=t(81767),n=t(94118),r=t.n(n),a=t(98780),d=t(93031),l=t(32523),c=t.n(l);let o=function(e){let{page:s,pageSize:t,count:n,onPageChange:l,className:o}=e,{formatMessage:h,labels:x}=(0,d.ot)(),j=t&&n?Math.ceil(n/t):0;if(0===n||!j)return null;let u=e=>{let t=s+e;t>0&&t<=j&&l(t)};return 1===j?null:(0,i.jsxs)("div",{className:r()(c().pager,o),children:[(0,i.jsx)("div",{className:c().count,children:h(x.numberOfRecords,{x:n})}),(0,i.jsxs)("div",{className:c().nav,children:[(0,i.jsx)(a.$n,{onClick:()=>u(-1),disabled:1===s,children:(0,i.jsx)(a.In,{rotate:90,children:(0,i.jsx)(a.FI.ChevronDown,{})})}),(0,i.jsx)("div",{className:c().text,children:h(x.pageOf,{current:s,total:j})}),(0,i.jsx)(a.$n,{onClick:()=>u(1),disabled:s===j,children:(0,i.jsx)(a.In,{rotate:270,children:(0,i.jsx)(a.FI.ChevronDown,{})})})]}),(0,i.jsx)("div",{})]})}},24163:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var i=t(81767),n=t(94118),r=t.n(n);t(13647);var a=t(98780),d=t(42599),l=t.n(d);let c=function(e){let{title:s,icon:t,className:n,breadcrumb:d,children:c}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:l().breadcrumb,children:d}),(0,i.jsxs)("div",{className:r()(l().header,n),children:[t&&(0,i.jsx)(a.In,{size:"lg",className:l().icon,children:t}),s&&(0,i.jsx)("div",{className:l().title,children:s}),(0,i.jsx)("div",{className:l().actions,children:c})]})]})}},27172:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});var i=t(81767),n=t(98780),r=t(35823);let a=function(e){let{message:s,children:t}=e;return(0,i.jsxs)(n.LS,{direction:"column",alignItems:"center",justifyContent:"center",gap:60,height:600,children:[(0,i.jsx)(n.In,{size:"xl",children:(0,i.jsx)(r.A,{})}),(0,i.jsx)(n.EY,{size:"lg",children:s}),(0,i.jsx)("div",{children:t})]})}},32523:e=>{e.exports={pager:"Pager_pager__F5rGn",nav:"Pager_nav__YmWNR",text:"Pager_text___6T_4",count:"Pager_count__Xzyoy"}},36415:(e,s,t)=>{Promise.resolve().then(t.bind(t,15912))},42599:e=>{e.exports={header:"PageHeader_header__8CvHt",title:"PageHeader_title__m8eFY",breadcrumb:"PageHeader_breadcrumb__C8UO8",icon:"PageHeader_icon__Qrxhq",actions:"PageHeader_actions__6l2hP"}},95265:e=>{e.exports={buttons:"DashboardEdit_buttons__OZgbO",item:"DashboardEdit_item__yNqfm",text:"DashboardEdit_text__x8D1F",name:"DashboardEdit_name__Sjll7",domain:"DashboardEdit_domain__lridL",dragActive:"DashboardEdit_dragActive__JuJ0j",header:"DashboardEdit_header__LqYrp",search:"DashboardEdit_search__6gNfR",active:"DashboardEdit_active__Q_7c6"}}},e=>{var s=s=>e(e.s=s);e.O(0,[1371,4048,7757,282,3698,4598,5210,9541,279,8197,5568,9689,3031,6797,1185,9068,6721,3664,7358],()=>s(36415)),_N_E=e.O()}]);