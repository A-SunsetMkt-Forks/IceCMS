import{u as R,_ as B,a as M}from"./CWE-KJV6.js";import{E as Q}from"./DlWFjbbA.js";import{_ as T}from"./CiUdNee2.js";import{_ as z}from"./CpW1LMPF.js";import"./g0zu4MNc.js";import{d as D,r as o,w as E,c as l,o as c,a as t,b as d,u as _,F as N,f as P,g,e as V,t as x,h as y,_ as F}from"./C_uFub58.js";import{_ as j}from"./CIgSdRfQ.js";import{g as L}from"./CAUbPHnW.js";import"./CQdKq0Vt.js";import"./BM-sVEEH.js";import"./Bo10sX-3.js";import"./dXWXmwas.js";import"./yw5b7RCA.js";import"./CXVv3ulD.js";import"./BUADUvnR.js";import"./CRxF1tn9.js";import"./BpqunBSk.js";import"./CJdOkxoU.js";import"./DFZ1BoYC.js";import"./3Yncbi-l.js";import"./BmIASET-.js";import"./BtvKXLLF.js";const W={class:"home"},G={"data-server-rendered":"true",id:"__nuxt"},H={id:"__layout"},J={"data-fetch-key":"0",class:"app macwk-animation"},K={class:"layout-min-full-height special-standard our-special py-7 pc-model"},O={class:"container"},X={key:0,class:"text-center py-5"},Y={key:1,class:"text-center py-5"},Z={key:2,class:"row"},tt={class:"cursor-pointer"},st={class:"single-special-member"},et={class:"wrapper"},ot={class:"img-box"},nt={class:"info-meta"},at={class:"name"},it={class:"ml-2 text-muted fs-16"},lt={class:"hover-content"},ct={class:"share-buttons"},rt=["onClick"],dt=["onClick"],pt=D({__name:"AllPlanet",async setup(_t){let u,v;const w=o("nav-link active"),b=o({}),a=o([]),h=o(!0);o(!1);const m=o(""),f=o("全部圈子 - IceCMS"),k=o("发现更多有趣圈子，参与社区讨论");[u,v]=E(()=>C()),await u,v();async function C(){try{const s=await L();console.log("获取圈子分类数据:",s),s&&s.data&&s.data.value?a.value=Array.isArray(s.data.value)?s.data.value:[]:s&&Array.isArray(s)?a.value=s:(console.warn("获取圈子分类数据为空"),a.value=[])}catch(s){console.error("获取圈子分类数据出错:",s),a.value=[]}finally{h.value=!1}}const $=R();b.value=$.settings,m.value=window.location.href;function q(s){const e=encodeURIComponent(m.value),p=encodeURIComponent(s?`${s.name} - 圈子分类`:f.value),i=encodeURIComponent(s?`${s.name}圈子分类，探索有趣的社区讨论`:k.value),r=`https://connect.qq.com/widget/shareqq/index.html?url=${e}&title=${p}&desc=${i}&summary=${i}&site=IceCMS`;window.open(r,"_blank","width=600,height=400")}function I(s){const e=encodeURIComponent(m.value),i=`${encodeURIComponent(s?`${s.name} - 圈子分类`:f.value)} ${e}`,r=`https://service.weibo.com/share/share.php?url=${e}&title=${i}&pic=`;window.open(r,"_blank","width=600,height=400")}return(s,e)=>{const p=B,i=Q,r=M,S=T,A=z;return c(),l("div",W,[t("div",G,[t("div",H,[t("div",J,[d(p,{message4:_(w)},null,8,["message4"]),t("div",null,[t("div",K,[t("div",O,[_(h)?(c(),l("div",X,e[0]||(e[0]=[t("div",{class:"loading-spinner"},[t("i",{class:"el-icon-loading"}),t("p",{class:"mt-2"},"加载中...")],-1)]))):_(a).length===0?(c(),l("div",Y,e[1]||(e[1]=[t("div",{class:"empty-state"},[t("i",{class:"el-icon-folder-opened",style:{"font-size":"48px",color:"#ddd"}}),t("p",{class:"mt-2 text-muted"},"暂无圈子分类数据")],-1)]))):(c(),l("div",Z,[(c(!0),l(N,null,P(_(a),n=>(c(),l("div",{key:n?.id||Math.random(),class:"col-3 delay-0 list-animation-leftIn"},[d(r,{to:"/planet/"+(n?.id||"")},{default:g(()=>[t("a",tt,[t("div",st,[t("div",et,[t("div",ot,[d(i,{src:n?.imgclass||"/default-planet.png",lazy:""},{default:g(()=>e[2]||(e[2]=[t("div",{slot:"placeholder",class:"image-slot"},[t("img",{style:{width:"100%",height:"100%","object-fit":"cover"},src:j})],-1),t("div",{slot:"error",class:"image-slot"},[t("div",{class:"default-img"},[t("i",{class:"el-icon-chat-dot-round",style:{"font-size":"32px",color:"#ddd"}})])],-1)])),_:2},1032,["src"])]),t("div",nt,[t("h6",at,[V(x(n?.name||"未知圈子")+" ",1),t("span",it," ("+x(n?.postCount||0)+"帖) ",1)])])]),t("div",lt,[t("p",ct,[t("span",{onClick:y(U=>I(n),["prevent"]),class:"share-btn weibo-btn",title:"分享到微博"},e[3]||(e[3]=[t("i",{class:"icon-weibo"},null,-1)]),8,rt),t("span",{onClick:y(U=>q(n),["prevent"]),class:"share-btn qq-btn",title:"分享到QQ"},e[4]||(e[4]=[t("i",{class:"icon-qq"},null,-1)]),8,dt)])])])])]),_:2},1032,["to"])]))),128))])),e[5]||(e[5]=t("div",{class:"clearfix pt-8"},null,-1))])]),d(S)]),d(A),e[6]||(e[6]=t("div",{infos:"0"},[t("div",{class:"adBanner pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"})],-1))])])])])}}}),Tt=F(pt,[["__scopeId","data-v-475ab3d3"]]);export{Tt as default};
