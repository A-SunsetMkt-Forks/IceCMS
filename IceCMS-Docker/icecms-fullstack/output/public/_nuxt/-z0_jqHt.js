import{u as N,_ as T}from"./CWE-KJV6.js";import{_ as B}from"./CpW1LMPF.js";import{d as R,r,c as i,o as n,a as e,b as w,y as k,q as y,t as d,h as O,v,e as c,z as h,p as f,A as j,F as z,f as D,ao as x,_ as E}from"./C_uFub58.js";import{_ as $,a as G,b as H,c as J,d as K,e as Q}from"./CFGVX5wP.js";import"./CQdKq0Vt.js";import"./BM-sVEEH.js";import"./g0zu4MNc.js";import"./Bo10sX-3.js";import"./dXWXmwas.js";import"./yw5b7RCA.js";import"./CXVv3ulD.js";import"./BUADUvnR.js";import"./CRxF1tn9.js";import"./BpqunBSk.js";import"./CJdOkxoU.js";import"./DFZ1BoYC.js";import"./3Yncbi-l.js";const W={class:"create-planet"},X={id:"__nuxt","data-server-rendered":"true"},Y={id:"__layout"},Z={"data-fetch-key":"0",class:"app macwk-animation"},ee={class:"layout-min-full-height"},ae={class:"macwk-create-planet-section"},se={class:"container"},te={class:"inner-container"},le={class:"main-content"},oe={key:0,class:"success-message"},ie={class:"success-content"},ne={class:"create-planet-form-container"},re={class:"form-row"},de={class:"form-group"},ue={key:0,class:"error-message"},ve={class:"form-group"},ce=["value"],pe={class:"form-group"},me={key:0,class:"error-message"},be={class:"char-count"},_e={class:"form-row"},fe={class:"form-group"},ge={class:"upload-area"},ye={key:0,class:"avatar-preview"},ke=["src"],he={key:1,class:"upload-placeholder"},xe={key:0,class:"el-icon-plus"},we={key:1,class:"el-icon-loading"},Ue={class:"form-group"},Ve={class:"upload-area banner-upload"},qe={key:0,class:"banner-preview"},Ce=["src"],Se={key:1,class:"upload-placeholder banner-placeholder"},Pe={key:0,class:"el-icon-plus"},Ae={key:1,class:"el-icon-loading"},Ie={class:"form-group"},Me={key:0,class:"error-message"},Fe={class:"char-count"},Le={class:"form-group"},Ne={class:"checkbox-group"},Te={class:"checkbox-item"},Be={class:"checkbox-item"},Re={class:"checkbox-item"},Oe={class:"form-actions"},je=["disabled"],ze=["disabled"],De={key:0},Ee={key:1},$e=R({__name:"CreatePlanet",setup(Ge){const U=r("nav-link active"),V=r({}),s=r({name:"",description:"",category:"tech",avatar:"",banner:"",rules:"",isPublic:!0,allowInvite:!0,requireApproval:!0}),t=r({name:"",description:"",rules:""}),p=r(!1),g=r(!1),m=r(""),b=r(!1),_=r(!1),q=N();V.value=q.settings;const C=[{value:"tech",label:"科技数码"},{value:"life",label:"生活日常"},{value:"entertainment",label:"娱乐休闲"},{value:"study",label:"学习成长"},{value:"sports",label:"运动健身"},{value:"travel",label:"旅行摄影"},{value:"food",label:"美食烹饪"},{value:"game",label:"游戏竞技"},{value:"art",label:"艺术设计"},{value:"business",label:"商业财经"},{value:"other",label:"其他"}],S=()=>{let o=!0;return t.value={name:"",description:"",rules:""},s.value.name.trim()?s.value.name.trim().length<2?(t.value.name="圈子名称至少需要2个字符",o=!1):s.value.name.trim().length>20&&(t.value.name="圈子名称不能超过20个字符",o=!1):(t.value.name="请输入圈子名称",o=!1),s.value.description.trim()?s.value.description.trim().length<10?(t.value.description="圈子描述至少需要10个字符",o=!1):s.value.description.trim().length>200&&(t.value.description="圈子描述不能超过200个字符",o=!1):(t.value.description="请输入圈子描述",o=!1),s.value.rules.trim()?s.value.rules.trim().length<20&&(t.value.rules="圈子规则至少需要20个字符",o=!1):(t.value.rules="请输入圈子规则",o=!1),o},P=async()=>{if(S()){p.value=!0;try{await new Promise(o=>setTimeout(o,2e3)),console.log("圈子创建申请提交成功:",s.value),g.value=!0,m.value="您的圈子创建申请已提交成功！我们会在1-3个工作日内完成审核，请耐心等待。",s.value={name:"",description:"",category:"tech",avatar:"",banner:"",rules:"",isPublic:!0,allowInvite:!0,requireApproval:!0}}catch(o){m.value="提交失败，请稍后重试。",console.error("提交圈子创建申请失败:",o)}finally{p.value=!1}}},A=()=>{s.value={name:"",description:"",category:"tech",avatar:"",banner:"",rules:"",isPublic:!0,allowInvite:!0,requireApproval:!0},t.value={name:"",description:"",rules:""},g.value=!1,m.value=""},I=()=>{g.value=!1,m.value=""},M=o=>{const u=o.target.files?.[0];u&&(b.value=!0,setTimeout(()=>{s.value.avatar=URL.createObjectURL(u),b.value=!1},1e3))},F=o=>{const u=o.target.files?.[0];u&&(_.value=!0,setTimeout(()=>{s.value.banner=URL.createObjectURL(u),_.value=!1},1e3))};return(o,a)=>{const u=T,L=B;return n(),i("div",W,[e("div",X,[e("div",Y,[e("div",Z,[w(u,{message11:U.value},null,8,["message11"]),e("div",ee,[e("div",ae,[a[27]||(a[27]=k('<img src="'+$+'" alt="" class="people people-1" data-v-1a0e9567><img src="'+G+'" alt="" class="people people-2" data-v-1a0e9567><img src="'+H+'" alt="" class="people people-3" data-v-1a0e9567><img src="'+J+'" alt="" class="people people-4" data-v-1a0e9567><img src="'+K+'" alt="" class="people people-5" data-v-1a0e9567><img src="'+Q+'" alt="" class="people people-6" data-v-1a0e9567>',6)),e("div",se,[a[25]||(a[25]=e("h1",{class:"fw-600 text-center"},"创建圈子",-1)),a[26]||(a[26]=e("p",{class:"sub-title text-center fs-20"},"创建属于您的专属圈子，聚集志同道合的朋友。",-1)),e("div",te,[e("div",le,[g.value?(n(),i("div",oe,[e("div",ie,[a[9]||(a[9]=e("i",{class:"success-icon"},"✓",-1)),e("p",null,d(m.value),1),e("button",{onClick:I,class:"close-btn"},"关闭")])])):y("",!0),e("div",ne,[a[23]||(a[23]=e("div",{class:"form-header"},[e("h3",null,"填写圈子信息"),e("p",{class:"form-description"},"请详细填写圈子信息，我们会在1-3个工作日内完成审核。")],-1)),e("form",{onSubmit:O(P,["prevent"]),class:"create-planet-form"},[e("div",re,[e("div",de,[a[10]||(a[10]=e("label",{for:"name"},[c("圈子名称 "),e("span",{class:"required"},"*")],-1)),v(e("input",{type:"text",id:"name","onUpdate:modelValue":a[0]||(a[0]=l=>s.value.name=l),placeholder:"请输入圈子名称（2-20个字符）",class:f({error:t.value.name}),maxlength:"20"},null,2),[[h,s.value.name]]),t.value.name?(n(),i("span",ue,d(t.value.name),1)):y("",!0)]),e("div",ve,[a[11]||(a[11]=e("label",{for:"category"},[c("圈子分类 "),e("span",{class:"required"},"*")],-1)),v(e("select",{id:"category","onUpdate:modelValue":a[1]||(a[1]=l=>s.value.category=l)},[(n(),i(z,null,D(C,l=>e("option",{key:l.value,value:l.value},d(l.label),9,ce)),64))],512),[[j,s.value.category]])])]),e("div",pe,[a[12]||(a[12]=e("label",{for:"description"},[c("圈子描述 "),e("span",{class:"required"},"*")],-1)),v(e("textarea",{id:"description","onUpdate:modelValue":a[2]||(a[2]=l=>s.value.description=l),placeholder:"请详细描述您的圈子，包括主题、目标用户、活动内容等...",rows:"4",class:f({error:t.value.description}),maxlength:"200"},null,2),[[h,s.value.description]]),t.value.description?(n(),i("span",me,d(t.value.description),1)):y("",!0),e("div",be,d(s.value.description.length)+"/200",1)]),e("div",_e,[e("div",fe,[a[13]||(a[13]=e("label",{for:"avatar"},"圈子头像",-1)),e("div",ge,[s.value.avatar?(n(),i("div",ye,[e("img",{src:s.value.avatar,alt:"圈子头像"},null,8,ke),e("button",{type:"button",onClick:a[3]||(a[3]=l=>s.value.avatar=""),class:"remove-btn"},"×")])):(n(),i("div",he,[e("input",{type:"file",id:"avatar",onChange:M,accept:"image/*",style:{display:"none"}},null,32),e("label",{for:"avatar",class:f(["upload-btn",{uploading:b.value}])},[b.value?(n(),i("i",we)):(n(),i("i",xe)),e("span",null,d(b.value?"上传中...":"上传头像"),1)],2)]))])]),e("div",Ue,[a[14]||(a[14]=e("label",{for:"banner"},"圈子横幅",-1)),e("div",Ve,[s.value.banner?(n(),i("div",qe,[e("img",{src:s.value.banner,alt:"圈子横幅"},null,8,Ce),e("button",{type:"button",onClick:a[4]||(a[4]=l=>s.value.banner=""),class:"remove-btn"},"×")])):(n(),i("div",Se,[e("input",{type:"file",id:"banner",onChange:F,accept:"image/*",style:{display:"none"}},null,32),e("label",{for:"banner",class:f(["upload-btn",{uploading:_.value}])},[_.value?(n(),i("i",Ae)):(n(),i("i",Pe)),e("span",null,d(_.value?"上传中...":"上传横幅"),1)],2)]))])])]),e("div",Ie,[a[15]||(a[15]=e("label",{for:"rules"},[c("圈子规则 "),e("span",{class:"required"},"*")],-1)),v(e("textarea",{id:"rules","onUpdate:modelValue":a[5]||(a[5]=l=>s.value.rules=l),placeholder:"请制定圈子规则，如：1. 保持友善讨论 2. 禁止广告刷屏 3. 尊重他人观点...",rows:"6",class:f({error:t.value.rules}),maxlength:"500"},null,2),[[h,s.value.rules]]),t.value.rules?(n(),i("span",Me,d(t.value.rules),1)):y("",!0),e("div",Fe,d(s.value.rules.length)+"/500",1)]),e("div",Le,[a[22]||(a[22]=e("label",null,"圈子设置",-1)),e("div",Ne,[e("label",Te,[v(e("input",{type:"checkbox","onUpdate:modelValue":a[6]||(a[6]=l=>s.value.isPublic=l)},null,512),[[x,s.value.isPublic]]),a[16]||(a[16]=e("span",{class:"checkmark"},null,-1)),a[17]||(a[17]=c(" 公开圈子（其他用户可以搜索和查看） "))]),e("label",Be,[v(e("input",{type:"checkbox","onUpdate:modelValue":a[7]||(a[7]=l=>s.value.allowInvite=l)},null,512),[[x,s.value.allowInvite]]),a[18]||(a[18]=e("span",{class:"checkmark"},null,-1)),a[19]||(a[19]=c(" 允许成员邀请好友加入 "))]),e("label",Re,[v(e("input",{type:"checkbox","onUpdate:modelValue":a[8]||(a[8]=l=>s.value.requireApproval=l)},null,512),[[x,s.value.requireApproval]]),a[20]||(a[20]=e("span",{class:"checkmark"},null,-1)),a[21]||(a[21]=c(" 新成员需要审核批准 "))])])]),e("div",Oe,[e("button",{type:"button",onClick:A,class:"btn-secondary",disabled:p.value}," 重置 ",8,je),e("button",{type:"submit",class:"btn-primary",disabled:p.value},[p.value?(n(),i("span",De,"提交中...")):(n(),i("span",Ee,"提交申请"))],8,ze)])],32)]),a[24]||(a[24]=k('<div class="create-notice" data-v-1a0e9567><h4 data-v-1a0e9567>创建须知</h4><div class="notice-content" data-v-1a0e9567><div class="notice-item" data-v-1a0e9567><i class="icon-info" data-v-1a0e9567></i><div data-v-1a0e9567><strong data-v-1a0e9567>审核流程</strong><p data-v-1a0e9567>我们会在1-3个工作日内审核您的申请，审核通过后圈子将正式开放。</p></div></div><div class="notice-item" data-v-1a0e9567><i class="icon-rules" data-v-1a0e9567></i><div data-v-1a0e9567><strong data-v-1a0e9567>管理责任</strong><p data-v-1a0e9567>作为圈主，您需要维护圈子秩序，确保内容健康积极，遵守平台规范。</p></div></div><div class="notice-item" data-v-1a0e9567><i class="icon-community" data-v-1a0e9567></i><div data-v-1a0e9567><strong data-v-1a0e9567>社区建设</strong><p data-v-1a0e9567>建议定期发布优质内容，积极回复成员，营造良好的社区氛围。</p></div></div></div></div>',1))])])])]),a[28]||(a[28]=k('<div id="sidetools" class="macwk-animation tinUpIn" style="display:none;" data-v-1a0e9567><div class="sidetools-item" data-v-1a0e9567><div class="sidetools-wrapper" data-v-1a0e9567><a class="cursor" data-v-1a0e9567><span class="sidetools-icon kfwx" data-v-1a0e9567></span></a></div></div><div class="sidetools-item" data-v-1a0e9567><div class="sidetools-wrapper" data-v-1a0e9567><a class="cursor" data-v-1a0e9567><span class="sidetools-icon kfqq" data-v-1a0e9567></span></a></div></div><div class="sidetools-item" data-v-1a0e9567><div class="sidetools-wrapper" data-v-1a0e9567><a class="el-tooltip cursor" data-v-1a0e9567><span class="sidetools-icon back-top" data-v-1a0e9567></span></a></div></div></div>',1))]),w(L)])])])])}}}),da=E($e,[["__scopeId","data-v-1a0e9567"]]);export{da as default};
