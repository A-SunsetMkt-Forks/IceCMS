import{i as t}from"./C_uFub58.js";const a=t("user",{state:()=>({email:localStorage.getItem("email")||"",gender:localStorage.getItem("gender")||"",intro:localStorage.getItem("intro")||"",name:localStorage.getItem("name")||"",profile:localStorage.getItem("profile")||"",token:localStorage.getItem("token")||"",userid:localStorage.getItem("userid")||"",username:localStorage.getItem("username")||"",tempUser:JSON.parse(localStorage.getItem("temp-user")||"null")}),getters:{fullName:e=>`${e.name} (${e.username})`,isLoggedIn:e=>!!e.token,userIntro:e=>e.intro||"这位用户很神秘！",hasUser:e=>!!e.token||!!e.tempUser,currentUser:e=>e.token?{name:e.name,email:e.email,profile:e.profile,userid:e.userid,username:e.username,isTemp:!1}:e.tempUser?{name:e.tempUser.username,email:e.tempUser.email,profile:"",userid:"",username:e.tempUser.username,isTemp:!0}:null},actions:{setUserInfo(e){this.email=e.email,this.gender=e.gender,this.intro=e.intro,this.name=e.name,this.profile=e.profile,this.token=e.token,this.userid=e.userid,this.username=e.username,localStorage.setItem("email",e.email),localStorage.setItem("gender",e.gender),localStorage.setItem("intro",e.intro),localStorage.setItem("name",e.name),localStorage.setItem("profile",e.profile),localStorage.setItem("token",e.token),localStorage.setItem("userid",e.userid),localStorage.setItem("username",e.username)},clearUserInfo(){this.email="",this.gender="",this.intro="",this.name="",this.profile="",this.token="",this.userid="",this.username="",localStorage.removeItem("email"),localStorage.removeItem("gender"),localStorage.removeItem("intro"),localStorage.removeItem("name"),localStorage.removeItem("profile"),localStorage.removeItem("token"),localStorage.removeItem("userid"),localStorage.removeItem("username")},updateUserIntro(e){this.intro=e,localStorage.setItem("intro",e)},updateProfilePicture(e){this.profile=e,localStorage.setItem("profile",e)},updateUserInfo(e){e.userid!==void 0&&(this.userid=e.userid,localStorage.setItem("userid",e.userid)),e.name!==void 0&&(this.name=e.name,localStorage.setItem("name",e.name)),e.username!==void 0&&(this.username=e.username,localStorage.setItem("username",e.username)),e.profile!==void 0&&(this.profile=e.profile,localStorage.setItem("profile",e.profile)),e.intro!==void 0&&(this.intro=e.intro,localStorage.setItem("intro",e.intro)),e.email!==void 0&&(this.email=e.email,localStorage.setItem("email",e.email)),e.gender!==void 0&&(this.gender=e.gender,localStorage.setItem("gender",e.gender))},setTempUser(e){this.tempUser=e,localStorage.setItem("temp-user",JSON.stringify(e))},clearTempUser(){this.tempUser=null,localStorage.removeItem("temp-user")},clearAllUserInfo(){this.clearUserInfo(),this.clearTempUser()}}});export{a as u};
