import{u as A,_ as B,a as M}from"./CWE-KJV6.js";import{E as Q}from"./DlWFjbbA.js";import{_ as T}from"./CiUdNee2.js";import{_ as D}from"./CpW1LMPF.js";import"./g0zu4MNc.js";import{d as E,r as o,w as N,c as l,o as c,a as t,b as r,u as m,F as V,f as z,g,e as F,t as x,h as w,_ as j}from"./C_uFub58.js";import{_ as L}from"./CIgSdRfQ.js";import{g as W}from"./CumhJH1D.js";import"./CQdKq0Vt.js";import"./BM-sVEEH.js";import"./Bo10sX-3.js";import"./dXWXmwas.js";import"./yw5b7RCA.js";import"./CXVv3ulD.js";import"./BUADUvnR.js";import"./CRxF1tn9.js";import"./BpqunBSk.js";import"./CJdOkxoU.js";import"./DFZ1BoYC.js";import"./3Yncbi-l.js";import"./BmIASET-.js";import"./BtvKXLLF.js";const G={class:"home"},H={"data-server-rendered":"true",id:"__nuxt"},J={id:"__layout"},K={"data-fetch-key":"0",class:"app macwk-animation"},O={class:"layout-min-full-height special-standard our-special py-7 pc-model"},P={class:"container"},X={key:0,class:"text-center py-5"},Y={key:1,class:"row"},Z={class:"cursor-pointer"},tt={class:"single-special-member"},st={class:"wrapper"},et={class:"img-box"},ot={class:"info-meta"},nt={class:"name"},at={class:"ml-2 text-muted fs-16"},it={class:"hover-content"},lt={class:"share-buttons"},ct=["onClick"],rt=["onClick"],dt=E({__name:"Class",async setup(_t){let u,h;const y=o("nav-link active"),b=o({}),d=o([]),v=o(!0);o(!1);const p=o(""),f=o("资源分类 - IceCMS"),C=o("发现更多优质资源，探索不同分类内容");[u,h]=N(()=>k()),await u,h();async function k(){try{const e=await W();console.log("获取分类数据:",e),e?d.value=Array.isArray(e)?e:[]:(console.warn("获取分类数据为空"),d.value=[])}catch(e){console.error("获取class数据出错:",e),d.value=[]}finally{v.value=!1}}const $=A();b.value=$.settings,p.value=window.location.href;function q(e){const s=encodeURIComponent(p.value),_=encodeURIComponent(e?`${e.name} - 资源分类`:f.value),a=encodeURIComponent(e?`${e.name}分类下有${e.num||0}个资源`:C.value),i=`https://connect.qq.com/widget/shareqq/index.html?url=${s}&title=${_}&desc=${a}&summary=${a}&site=IceCMS`;window.open(i,"_blank","width=600,height=400")}function I(e){const s=encodeURIComponent(p.value),a=`${encodeURIComponent(e?`${e.name} - 资源分类`:f.value)} ${s}`,i=`https://service.weibo.com/share/share.php?url=${s}&title=${a}&pic=`;window.open(i,"_blank","width=600,height=400")}return(e,s)=>{const _=B,a=Q,i=M,S=T,U=D;return c(),l("div",G,[t("div",H,[t("div",J,[t("div",K,[r(_,{message4:m(y)},null,8,["message4"]),t("div",null,[t("div",O,[t("div",P,[m(v)?(c(),l("div",X,s[0]||(s[0]=[t("div",{class:"loading-spinner"},[t("i",{class:"el-icon-loading"}),t("p",{class:"mt-2"},"加载中...")],-1)]))):(c(),l("div",Y,[(c(!0),l(V,null,z(m(d),n=>(c(),l("div",{key:n?.id||Math.random(),class:"col-3 delay-0 list-animation-leftIn"},[r(i,{to:"/classdetal/"+(n?.id||"")},{default:g(()=>[t("a",Z,[t("div",tt,[t("div",st,[t("div",et,[r(a,{src:n?.imgclass||"/default-class.png",lazy:""},{default:g(()=>s[1]||(s[1]=[t("div",{slot:"placeholder",class:"image-slot"},[t("img",{style:{width:"100%",height:"100%","object-fit":"cover"},src:L})],-1),t("div",{slot:"error",class:"image-slot"},[t("div",{class:"default-img"},[t("i",{class:"el-icon-picture-outline",style:{"font-size":"32px",color:"#ddd"}})])],-1)])),_:2},1032,["src"])]),t("div",ot,[t("h6",nt,[F(x(n?.name||"未知分类")+" ",1),t("span",at," ("+x(n?.num||0)+") ",1)])])]),t("div",it,[t("p",lt,[t("span",{onClick:w(R=>I(n),["prevent"]),class:"share-btn weibo-btn",title:"分享到微博"},s[2]||(s[2]=[t("i",{class:"icon-weibo"},null,-1)]),8,ct),t("span",{onClick:w(R=>q(n),["prevent"]),class:"share-btn qq-btn",title:"分享到QQ"},s[3]||(s[3]=[t("i",{class:"icon-qq"},null,-1)]),8,rt)])])])])]),_:2},1032,["to"])]))),128))])),s[4]||(s[4]=t("div",{class:"clearfix pt-8"},null,-1))])]),r(S)]),r(U),s[5]||(s[5]=t("div",{infos:"0"},[t("div",{class:"adBanner pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"})],-1))])])])])}}}),Qt=j(dt,[["__scopeId","data-v-ff2d912e"]]);export{Qt as default};
