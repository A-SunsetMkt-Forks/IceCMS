import{Q as K,O as j,aj as ee,d as U,H as Q,b as H,aA as me,M as E,k as le,j as ye,X as pe,J as Ce,U as oe,I as h,c as G,o as R,a as X,q as W,p as T,u as o,t as be,g as S,m as q,N as Ee,n as ae,a2 as ge,a5 as Te,at as re,D as J,aa as Se,al as he,ar as we,a7 as se,r as O,aS as Ae,aX as te,a6 as Le,ak as Me,T as ke,v as De,a0 as Ie,$ as Be,x as Oe,Y as Ne}from"./C_uFub58.js";import{b as x,d as V,y as Ye,t as Z,_ as ie,u as $e,a4 as Re,g as _e,a5 as ne,a6 as ze,a7 as He,a8 as Ue,a9 as Xe,p as Pe,h as Ve}from"./g0zu4MNc.js";import{F as Ke,i as je,E as Ge,a as Fe}from"./CXVv3ulD.js";import{U as ue,t as We}from"./BM-sVEEH.js";import{a as qe}from"./CRxF1tn9.js";const de=e=>{if(!e)return{onClick:K,onMousedown:K,onMouseup:K};let n=!1,s=!1;return{onClick:i=>{n&&s&&e(i),n=s=!1},onMousedown:i=>{n=i.target===i.currentTarget},onMouseup:i=>{s=i.target===i.currentTarget}}};var P=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))(P||{});const F=e=>{const n=j(e)?e:[e],s=[];return n.forEach(a=>{var l;j(a)?s.push(...F(a)):ee(a)&&((l=a.component)!=null&&l.subTree)?s.push(a,...F(a.component.subTree)):ee(a)&&j(a.children)?s.push(...F(a.children)):s.push(a)}),s},Je=x({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:V([String,Array,Object])},zIndex:{type:V([String,Number])}}),Ze={click:e=>e instanceof MouseEvent},Qe="overlay";var xe=U({name:"ElOverlay",props:Je,emits:Ze,setup(e,{slots:n,emit:s}){const a=Q(Qe),l=r=>{s("click",r)},{onClick:d,onMousedown:i,onMouseup:f}=de(e.customMaskEvent?void 0:l);return()=>e.mask?H("div",{class:[a.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:d,onMousedown:i,onMouseup:f},[E(n,"default")],P.STYLE|P.CLASS|P.PROPS,["onClick","onMouseup","onMousedown"]):me("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[E(n,"default")])}});const eo=xe,ce=Symbol("dialogInjectionKey"),fe=x({center:Boolean,alignCenter:Boolean,closeIcon:{type:Ye},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),oo={close:()=>!0},so=(e,n,s,a)=>{let l={offsetX:0,offsetY:0};const d=c=>{const y=c.clientX,b=c.clientY,{offsetX:C,offsetY:v}=l,m=e.value.getBoundingClientRect(),g=m.left,u=m.top,N=m.width,w=m.height,_=document.documentElement.clientWidth,z=document.documentElement.clientHeight,Y=-g+C,A=-u+v,L=_-g-N+C,M=z-u-w+v,k=t=>{let I=C+t.clientX-y,$=v+t.clientY-b;a?.value||(I=Math.min(Math.max(I,Y),L),$=Math.min(Math.max($,A),M)),l={offsetX:I,offsetY:$},e.value&&(e.value.style.transform=`translate(${Z(I)}, ${Z($)})`)},D=()=>{document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",D)};document.addEventListener("mousemove",k),document.addEventListener("mouseup",D)},i=()=>{n.value&&e.value&&n.value.addEventListener("mousedown",d)},f=()=>{n.value&&e.value&&n.value.removeEventListener("mousedown",d)},r=()=>{l={offsetX:0,offsetY:0},e.value&&(e.value.style.transform="none")};return le(()=>{ye(()=>{s.value?i():f()})}),pe(()=>{f()}),{resetPosition:r}},to=(...e)=>n=>{e.forEach(s=>{Ce(s)?s(n):s.value=n})},no=U({name:"ElDialogContent"}),lo=U({...no,props:fe,emits:oo,setup(e,{expose:n}){const s=e,{t:a}=$e(),{Close:l}=Re,{dialogRef:d,headerRef:i,bodyId:f,ns:r,style:c}=oe(ce),{focusTrapRef:y}=oe(Ke),b=h(()=>[r.b(),r.is("fullscreen",s.fullscreen),r.is("draggable",s.draggable),r.is("align-center",s.alignCenter),{[r.m("center")]:s.center}]),C=to(y,d),v=h(()=>s.draggable),m=h(()=>s.overflow),{resetPosition:g}=so(d,i,v,m);return n({resetPosition:g}),(u,N)=>(R(),G("div",{ref:o(C),class:T(o(b)),style:ae(o(c)),tabindex:"-1"},[X("header",{ref_key:"headerRef",ref:i,class:T([o(r).e("header"),u.headerClass,{"show-close":u.showClose}])},[E(u.$slots,"header",{},()=>[X("span",{role:"heading","aria-level":u.ariaLevel,class:T(o(r).e("title"))},be(u.title),11,["aria-level"])]),u.showClose?(R(),G("button",{key:0,"aria-label":o(a)("el.dialog.close"),class:T(o(r).e("headerbtn")),type:"button",onClick:w=>u.$emit("close")},[H(o(_e),{class:T(o(r).e("close"))},{default:S(()=>[(R(),q(Ee(u.closeIcon||o(l))))]),_:1},8,["class"])],10,["aria-label","onClick"])):W("v-if",!0)],2),X("div",{id:o(f),class:T([o(r).e("body"),u.bodyClass])},[E(u.$slots,"default")],10,["id"]),u.$slots.footer?(R(),G("footer",{key:0,class:T([o(r).e("footer"),u.footerClass])},[E(u.$slots,"footer")],2)):W("v-if",!0)],6))}});var ao=ie(lo,[["__file","dialog-content.vue"]]);const ro=x({...fe,appendToBody:Boolean,appendTo:{type:V([String,Object]),default:"body"},beforeClose:{type:V(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),io={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[ue]:e=>ge(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},uo=(e,n={})=>{Te(e)||We("[useLockscreen]","You need to pass a ref param to this function");const s=n.ns||Q("popup"),a=h(()=>s.bm("parent","hidden"));if(!re||ne(document.body,a.value))return;let l=0,d=!1,i="0";const f=()=>{setTimeout(()=>{typeof document>"u"||d&&document&&(document.body.style.width=i,Ue(document.body,a.value))},200)};J(e,r=>{if(!r){f();return}d=!ne(document.body,a.value),d&&(i=document.body.style.width,ze(document.body,a.value)),l=qe(s.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,y=He(document.body,"overflowY");l>0&&(c||y==="scroll")&&d&&(document.body.style.width=`calc(100% - ${l}px)`)}),Se(()=>f())},co=(e,n)=>{var s;const l=he().emit,{nextZIndex:d}=we();let i="";const f=se(),r=se(),c=O(!1),y=O(!1),b=O(!1),C=O((s=e.zIndex)!=null?s:d());let v,m;const g=Xe("namespace",Ae),u=h(()=>{const p={},B=`--${g.value}-dialog`;return e.fullscreen||(e.top&&(p[`${B}-margin-top`]=e.top),e.width&&(p[`${B}-width`]=Z(e.width))),p}),N=h(()=>e.alignCenter?{display:"flex"}:{});function w(){l("opened")}function _(){l("closed"),l(ue,!1),e.destroyOnClose&&(b.value=!1)}function z(){l("close")}function Y(){m?.(),v?.(),e.openDelay&&e.openDelay>0?{stop:v}=te(()=>k(),e.openDelay):k()}function A(){v?.(),m?.(),e.closeDelay&&e.closeDelay>0?{stop:m}=te(()=>D(),e.closeDelay):D()}function L(){function p(B){B||(y.value=!0,c.value=!1)}e.beforeClose?e.beforeClose(p):A()}function M(){e.closeOnClickModal&&L()}function k(){re&&(c.value=!0)}function D(){c.value=!1}function t(){l("openAutoFocus")}function I(){l("closeAutoFocus")}function $(p){var B;((B=p.detail)==null?void 0:B.focusReason)==="pointer"&&p.preventDefault()}e.lockScroll&&uo(c);function ve(){e.closeOnPressEscape&&L()}return J(()=>e.modelValue,p=>{p?(y.value=!1,Y(),b.value=!0,C.value=je(e.zIndex)?d():C.value++,Le(()=>{l("open"),n.value&&(n.value.parentElement.scrollTop=0,n.value.parentElement.scrollLeft=0,n.value.scrollTop=0)})):c.value&&A()}),J(()=>e.fullscreen,p=>{n.value&&(p?(i=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=i)}),le(()=>{e.modelValue&&(c.value=!0,b.value=!0,Y())}),{afterEnter:w,afterLeave:_,beforeLeave:z,handleClose:L,onModalClick:M,close:A,doClose:D,onOpenAutoFocus:t,onCloseAutoFocus:I,onCloseRequested:ve,onFocusoutPrevented:$,titleId:f,bodyId:r,closed:y,style:u,overlayDialogStyle:N,rendered:b,visible:c,zIndex:C}},fo=U({name:"ElDialog",inheritAttrs:!1}),vo=U({...fo,props:ro,emits:io,setup(e,{expose:n}){const s=e,a=Me();Pe({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},h(()=>!!a.title));const l=Q("dialog"),d=O(),i=O(),f=O(),{visible:r,titleId:c,bodyId:y,style:b,overlayDialogStyle:C,rendered:v,zIndex:m,afterEnter:g,afterLeave:u,beforeLeave:N,handleClose:w,onModalClick:_,onOpenAutoFocus:z,onCloseAutoFocus:Y,onCloseRequested:A,onFocusoutPrevented:L}=co(s,d);Ne(ce,{dialogRef:d,headerRef:i,bodyId:y,ns:l,rendered:v,style:b});const M=de(_),k=h(()=>s.draggable&&!s.fullscreen);return n({visible:r,dialogContentRef:f,resetPosition:()=>{var t;(t=f.value)==null||t.resetPosition()}}),(t,I)=>(R(),q(o(Fe),{to:t.appendTo,disabled:t.appendTo!=="body"?!1:!t.appendToBody},{default:S(()=>[H(ke,{name:"dialog-fade",onAfterEnter:o(g),onAfterLeave:o(u),onBeforeLeave:o(N),persisted:""},{default:S(()=>[De(H(o(eo),{"custom-mask-event":"",mask:t.modal,"overlay-class":t.modalClass,"z-index":o(m)},{default:S(()=>[X("div",{role:"dialog","aria-modal":"true","aria-label":t.title||void 0,"aria-labelledby":t.title?void 0:o(c),"aria-describedby":o(y),class:T(`${o(l).namespace.value}-overlay-dialog`),style:ae(o(C)),onClick:o(M).onClick,onMousedown:o(M).onMousedown,onMouseup:o(M).onMouseup},[H(o(Ge),{loop:"",trapped:o(r),"focus-start-el":"container",onFocusAfterTrapped:o(z),onFocusAfterReleased:o(Y),onFocusoutPrevented:o(L),onReleaseRequested:o(A)},{default:S(()=>[o(v)?(R(),q(ao,Ie({key:0,ref_key:"dialogContentRef",ref:f},t.$attrs,{center:t.center,"align-center":t.alignCenter,"close-icon":t.closeIcon,draggable:o(k),overflow:t.overflow,fullscreen:t.fullscreen,"header-class":t.headerClass,"body-class":t.bodyClass,"footer-class":t.footerClass,"show-close":t.showClose,title:t.title,"aria-level":t.headerAriaLevel,onClose:o(w)}),Be({header:S(()=>[t.$slots.title?E(t.$slots,"title",{key:1}):E(t.$slots,"header",{key:0,close:o(w),titleId:o(c),titleClass:o(l).e("title")})]),default:S(()=>[E(t.$slots,"default")]),_:2},[t.$slots.footer?{name:"footer",fn:S(()=>[E(t.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):W("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[Oe,o(r)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var mo=ie(vo,[["__file","dialog.vue"]]);const go=Ve(mo);export{go as E,eo as a,uo as b,to as c,de as d,F as f,so as u};
