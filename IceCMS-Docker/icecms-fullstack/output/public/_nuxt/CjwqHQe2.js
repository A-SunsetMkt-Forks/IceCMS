import{B as F,_ as L}from"./CWE-KJV6.js";import{_ as j}from"./CpW1LMPF.js";import{d as U,E as G,r as v,w as B,D as H,l as J,c as n,o,a as s,b as N,e as p,t as d,v as K,x as O,q as T,F as I,f as M,m as Q,g as R,p as h,u as C,_ as W}from"./C_uFub58.js";import{f as $}from"./xIk34qk-.js";import{g as X,a as Y}from"./CumhJH1D.js";import"./CQdKq0Vt.js";import"./BM-sVEEH.js";import"./g0zu4MNc.js";import"./Bo10sX-3.js";import"./dXWXmwas.js";import"./yw5b7RCA.js";import"./CXVv3ulD.js";import"./BUADUvnR.js";import"./CRxF1tn9.js";import"./BpqunBSk.js";import"./CJdOkxoU.js";import"./DFZ1BoYC.js";import"./3Yncbi-l.js";const Z={class:"home"},ss={"data-server-rendered":"true",id:"__nuxt"},es={id:"__layout"},ts={"data-fetch-key":"0",class:"app macwk-animation"},as={class:"layout-min-full-height overflow-hidden special-content pb-8"},ls={class:"container"},os={class:"row"},ns={class:"col-sm-12 col-xxl-10 offset-xxl-1"},is={class:"text-center py-8"},ds={class:"fw-600 fs-60"},rs={role:"tooltip",id:"el-popover-4430","aria-hidden":"true",class:"el-popover el-popper",style:{width:"300px"}},ps={key:0,class:"text-muted fs-14 ml-2"},us={key:0,class:"px-5 py-3 text-center text-muted"},cs={class:"text-muted"},vs={class:"clearfix special-box-list"},ms={key:0,class:"text-center py-5"},_s={key:1,class:"w-r",style:{"margin-left":"-15px","margin-right":"-15px"}},fs={href:"",target:"_blank",class:"macwk-app white border cursor-pointer mb-0 macwk-box__animation delay-0"},xs={class:"macwk-app__header--icon delay-0"},ws=["src"],ys={class:"macwk-app__body pt-6 pb-7"},ks={class:"macwk-app__body--title"},gs={class:"fw-600"},bs={class:"macwk-app__body--info"},hs={class:"text-muted text-truncate mb-0"},Cs={class:"macwk-app__extend"},Ps={class:"macwk-app__extend--download"},Vs={class:"macwk-app__extend--update"},As={key:0},Bs={key:1},Ns={key:2,class:"pagination-wrapper text-center mt-5"},Ts={"aria-label":"分页导航"},Is={class:"pagination justify-content-center"},Ms=["disabled"],Ds=["onClick"],Rs={key:1,class:"page-link disabled"},$s=["disabled"],qs={class:"pagination-info mt-3"},zs={class:"text-muted"},Ss={key:3,class:"text-center py-5"},Es=U({__name:"[id]",async setup(Fs){let w,y;const k=G(),P=v(!1),f=v(""),u=v([]),x=v([]),q=v("nav-link active"),r=v(1),b=v(12),m=v(0),l=v(0),g=v(!1),z=()=>{P.value=!P.value};[w,y]=B(()=>S()),await w,y();async function S(){try{const t=await X();t&&t.data&&t.data.value?x.value=Array.isArray(t.data.value)?t.data.value:[]:t&&Array.isArray(t)?x.value=t:x.value=[],console.log("获取所有分类成功:",x.value)}catch(t){console.error("获取所有分类失败",t),x.value=[]}}[w,y]=B(()=>D()),await w,y();async function D(){try{const t=await Y(k.params.id);t&&t.data?t.data.value?f.value=t.data.value:f.value=t.data:f.value="未知分类",console.log("获取分类名称成功:",f.value)}catch(t){console.error("获取分类名称失败",t),f.value="未知分类"}}[w,y]=B(()=>V()),await w,y();async function V(t=r.value){try{g.value=!0;const e=await F({page:t,limit:b.value},k.params.id,"new");if(console.log("分页数据:",e),e&&e.data&&e.data.value){const i=e.data.value;i&&i.data?(u.value=Array.isArray(i.data)?i.data:[],i.total!==void 0?(m.value=i.total,l.value=Math.ceil(m.value/b.value)):u.value.length<b.value?(l.value=t,m.value=(t-1)*b.value+u.value.length):l.value=t+1):(u.value=[],m.value=0,l.value=0)}else u.value=[],m.value=0,l.value=0;console.log("处理后的数据:",{items:u.value.length,totalItems:m.value,totalPages:l.value,currentPage:t})}catch(e){console.error("获取资源列表失败",e),u.value=[],m.value=0,l.value=0}finally{g.value=!1}}const A=async t=>{r.value=t,await V(t),window.scrollTo({top:0,behavior:"smooth"})};H(()=>k.params.id,async t=>{t&&(r.value=1,await D(),await V(1))});const E=()=>{const t=[];if(l.value<=7)for(let i=1;i<=l.value;i++)t.push(i);else{const i=Math.floor(3.5);let c=Math.max(1,r.value-i),_=Math.min(l.value,r.value+i);_-c+1<7&&(c===1?_=Math.min(l.value,c+7-1):c=Math.max(1,_-7+1)),c>1&&(t.push(1),c>2&&t.push("..."));for(let a=c;a<=_;a++)t.push(a);_<l.value&&(_<l.value-1&&t.push("..."),t.push(l.value))}return t};return(t,e)=>{const i=L,c=J("router-link"),_=j;return o(),n("div",Z,[s("div",ss,[s("div",es,[s("div",ts,[s("div",as,[N(i,{message4:q.value},null,8,["message4"]),s("div",ls,[s("div",os,[s("div",ns,[s("header",is,[s("h1",ds,[e[4]||(e[4]=p(" Best Tools for ")),s("span",{onClick:e[0]||(e[0]=a=>z()),class:"text-primary hover-text-underline cursor"},[p(d(f.value)+" ",1),e[3]||(e[3]=s("i",{class:"icon-chevron-down"},null,-1))])]),s("span",null,[K(s("div",rs,[s("div",null,[(o(!0),n(I,null,M(x.value,a=>(o(),Q(c,{key:a.id,to:"/classdetal/"+a.id,class:h(["px-5 py-3 fs-26 d-block hover:text-primary transition-colors",{"active text-primary":a.id==C(k).params.id,"text-dark":a.id!=C(k).params.id}])},{default:R(()=>[p(d(a.name)+" ",1),a.num?(o(),n("span",ps,"("+d(a.num)+")",1)):T("",!0)]),_:2},1032,["to","class"]))),128)),x.value.length===0?(o(),n("div",us," 暂无分类数据 ")):T("",!0)])],512),[[O,P.value]]),e[5]||(e[5]=s("span",{class:"el-popover__reference-wrapper"},null,-1))]),s("h5",cs,[p(" 在这里，您可以找到面向"+d(f.value)+"的最佳应用工具。",1),e[6]||(e[6]=s("br",null,null,-1)),e[7]||(e[7]=p(" 如果您认为我们有所遗漏，请在")),e[8]||(e[8]=s("a",{href:"/feedback",target:"_blank",class:"mx-1 text-primary"},"意见建议",-1)),e[9]||(e[9]=p("处提交给我们，谢谢。 "))])]),s("div",vs,[g.value?(o(),n("div",ms,e[10]||(e[10]=[s("div",{class:"loading-spinner"},[s("i",{class:"el-icon-loading"}),s("p",{class:"mt-2"},"加载中...")],-1)]))):(o(),n("div",_s,[(o(!0),n(I,null,M(u.value,a=>(o(),n("div",{key:a.id,class:"list-animation-leftIn w-c w-c-6 delay-0",style:{"padding-left":"15px","padding-right":"15px","padding-bottom":"30px"}},[N(c,{to:"/list/"+a.id},{default:R(()=>[s("a",fs,[e[19]||(e[19]=s("span",{class:"snow-dot"},null,-1)),e[20]||(e[20]=s("span",{class:"snow-dot"},null,-1)),e[21]||(e[21]=s("span",{class:"snow-dot"},null,-1)),e[22]||(e[22]=s("span",{class:"snow-dot"},null,-1)),e[23]||(e[23]=s("span",{class:"snow-dot"},null,-1)),e[24]||(e[24]=s("span",{class:"snow-dot"},null,-1)),e[25]||(e[25]=s("span",{class:"snow-dot"},null,-1)),s("div",xs,[e[11]||(e[11]=s("div",{class:"macwk-app__header--icon--content"},null,-1)),s("img",{class:"delay-0",src:a.thumb},null,8,ws),e[12]||(e[12]=s("div",{class:"flex-grow-1 text-right fs-14"},null,-1))]),s("div",ys,[s("h4",ks,[s("span",gs,d(a.title),1)]),s("p",bs,[s("span",null,d(a.subhead),1)]),s("p",hs,d(a.intro),1)]),s("div",Cs,[s("div",Ps,[e[13]||(e[13]=s("i",{class:"icon-download2"},null,-1)),e[14]||(e[14]=p()),s("span",null,d(a.hits??0),1)]),e[16]||(e[16]=s("div",{class:"macwk-app__extend--comment"},[s("i",{class:"icon-bubble"}),p(),s("span",null,"0")],-1)),e[17]||(e[17]=s("div",{class:"macwk-app__extend--like"},[s("i",{class:"icon-heart"}),p(),s("span",null,"0")],-1)),e[18]||(e[18]=s("div",{class:"macwk-app__extend--os"},[s("i",{class:"icon-disc fw-600"}),s("span",null,">= 0")],-1)),s("div",Vs,[e[15]||(e[15]=s("i",{class:"icon-clock"},null,-1)),a.createTime!=null?(o(),n("span",As,d(C($)(a.createTime)),1)):(o(),n("span",Bs,d(C($)(a.addTime)),1))])])])]),_:2},1032,["to"])]))),128))])),!g.value&&u.value.length>0&&l.value>1?(o(),n("div",Ns,[s("nav",Ts,[s("ul",Is,[s("li",{class:h(["page-item",{disabled:r.value===1}])},[s("button",{class:"page-link",onClick:e[1]||(e[1]=a=>A(r.value-1)),disabled:r.value===1},e[26]||(e[26]=[s("i",{class:"icon-chevron-left"},null,-1),p(" 上一页 ")]),8,Ms)],2),(o(!0),n(I,null,M(E(),a=>(o(),n("li",{key:a,class:h(["page-item",{active:a===r.value}])},[a!=="..."?(o(),n("button",{key:0,class:"page-link",onClick:Ls=>A(a)},d(a),9,Ds)):(o(),n("span",Rs,"..."))],2))),128)),s("li",{class:h(["page-item",{disabled:r.value===l.value}])},[s("button",{class:"page-link",onClick:e[2]||(e[2]=a=>A(r.value+1)),disabled:r.value===l.value},e[27]||(e[27]=[p(" 下一页 "),s("i",{class:"icon-chevron-right"},null,-1)]),8,$s)],2)])]),s("div",qs,[s("span",zs," 第 "+d(r.value)+" 页，共 "+d(l.value)+" 页，共 "+d(m.value)+" 条记录 ",1)])])):!g.value&&u.value.length===0?(o(),n("div",Ss,e[28]||(e[28]=[s("div",{class:"empty-state"},[s("i",{class:"el-icon-folder-opened",style:{"font-size":"48px",color:"#ddd"}}),s("p",{class:"mt-2 text-muted"},"该分类暂无资源")],-1)]))):T("",!0)])])])]),e[29]||(e[29]=s("div",{id:"sidetools",class:"macwk-animation tinUpIn",style:{display:"none"}},[s("div",{class:"sidetools-item"},[s("div",{class:"sidetools-wrapper"},[s("a",{href:"https://t.me/macwk",target:"_blank",class:"cursor"},[s("span",{class:"sidetools-icon kfqq"})])])]),s("div",{class:"sidetools-item"},[s("div",{class:"sidetools-wrapper"},[s("a",{class:"el-tooltip cursor"},[s("span",{class:"sidetools-icon back-top"})])])]),s("span",null,[s("div",{role:"tooltip",id:"el-popover-3162","aria-hidden":"true",class:"el-popover el-popper",style:{width:"200px",display:"none"}},[s("div",{class:"text-center"},[s("a",{href:"/feedback",class:"mt-15 mb-0"},"在线留言")])]),s("span",{class:"el-popover__reference-wrapper"})]),s("span",null,[s("div",{role:"tooltip",id:"el-popover-2721","aria-hidden":"true",class:"el-popover el-popper",style:{width:"200px",display:"none"}},[s("div",{class:"text-center"},[s("a",{href:"/feedback",class:"mt-15 mb-0"},"在线留言")])]),s("span",{class:"el-popover__reference-wrapper"})])],-1))]),N(_),e[30]||(e[30]=s("div",{infos:"0"},[s("div",{class:"adBanner pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"})],-1))])])])])}}}),ne=W(Es,[["__scopeId","data-v-960733d6"]]);export{ne as default};
