import{aG as g}from"./C_uFub58.js";function d({options:e}){const r=e.headers?Object.fromEntries(Object.entries(e.headers).filter(([t,n])=>typeof t=="string"&&(typeof n=="string"||typeof n=="number")).map(([t,n])=>[t,String(n)])):{};let s={};{const t=localStorage.getItem("token");t&&(s={Authorization:t})}e.headers={...r,...s,"Content-Type":"application/json"}}function f({response:e}){if(e._data.error)throw new Error(e._data.error.message||"响应错误");return e._data}function o(e){return async function(r,s,t={}){const{public:{apiBaseUrl:n}}=g(),c=n,i=new URL(r,t.customBaseURL||c).toString();return await $fetch(i,{...t,method:e,body:s,onRequest:d,onResponse:f})}}const h=o("GET"),a=o("POST"),u=o("GET"),b=e=>u(`/Websuser/getUserInfobyid/${e}`),U=()=>u("/Websuser/getCurrentUserInfo"),m=e=>a("/Websuser/ChangeUser",e),C=(e,r,s)=>{const t=localStorage.getItem("token")||"";return a(`/Websuser/ChangePassword/${t}/${e}/${r}/${s}`)},p=(e,r)=>a(`/Websuser/login?username=${e}&password=${r}`),$=(e=1,r=10)=>u(`/Websuser/getCurrentUserOrders?page=${e}&limit=${r}`);export{m as C,$ as a,C as b,a as c,b as d,h as e,U as g,p as l,u};
