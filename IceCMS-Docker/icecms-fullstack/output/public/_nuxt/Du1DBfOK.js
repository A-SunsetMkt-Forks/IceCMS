import{E as g}from"./g0zu4MNc.js";import{E as y}from"./O5aJ7Ipg.js";import{E as v,a as k}from"./BJwtCnNB.js";import{d as C,r as E,k as w,c as l,o as p,a as t,b as o,g as r,F as x,f as j,t as u,e as d,_ as $}from"./C_uFub58.js";const b={class:"follow-list home"},B={class:"user-info"},N=["src"],V={class:"user-details"},z={class:"username"},F={class:"intro"},L=C({__name:"follow",setup(P){E(!0);const i=[{userid:"user001",name:"张三",profile:"https://randomuser.me/api/portraits/men/1.jpg",intro:"爱好编程，喜欢探索新技术"},{userid:"user002",name:"李四",profile:"https://randomuser.me/api/portraits/men/2.jpg",intro:"前端开发工程师，热爱开源"},{userid:"user003",name:"王五",profile:"https://randomuser.me/api/portraits/men/3.jpg",intro:"全栈开发者，喜欢分享技术文章"},{userid:"user004",name:"赵六",profile:"https://randomuser.me/api/portraits/men/4.jpg",intro:"后端开发，Java和Python的忠实粉丝"},{userid:"user005",name:"孙七",profile:"https://randomuser.me/api/portraits/men/5.jpg",intro:"移动开发，Android开发者，爱旅游"}];async function m(a){try{(await axios.post("/api/user/unfollow",{userId:userStore.userid,followUserId:a})).data.code===200?(i.value=i.value.filter(n=>n.userid!==a),this.$notify({title:"成功",message:"取消关注成功",type:"success",offset:50})):this.$notify({title:"失败",message:"取消关注失败",type:"error",offset:50})}catch(e){console.error("取消关注失败:",e),this.$notify({title:"错误",message:"取消关注时发生错误",type:"error",offset:50})}}return w(()=>{}),(a,e)=>{const n=g,c=y,f=v,_=k;return p(),l("div",b,[e[2]||(e[2]=t("h2",null,"我的关注",-1)),o(_,null,{default:r(()=>[(p(),l(x,null,j(i,s=>o(f,{span:8,key:s.userid},{default:r(()=>[o(c,{class:"user-card",shadow:"hover"},{default:r(()=>[t("div",B,[t("img",{src:s.profile,alt:"头像",class:"avatar"},null,8,N),t("div",V,[t("p",z,u(s.name),1),t("p",F,u(s.intro||"暂无简介"),1),o(n,{onClick:h=>a.goToProfile(s.userid),type:"text",size:"small"},{default:r(()=>e[0]||(e[0]=[d("查看个人主页")])),_:2},1032,["onClick"])])]),o(n,{onClick:h=>m(s.userid),type:"danger",size:"small",class:"unfollow-btn"},{default:r(()=>e[1]||(e[1]=[d("取消关注")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)),64))]),_:1})])}}}),I=$(L,[["__scopeId","data-v-351136b5"]]);export{I as default};
