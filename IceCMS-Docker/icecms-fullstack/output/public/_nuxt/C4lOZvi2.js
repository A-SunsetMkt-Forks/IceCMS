import{E as B}from"./g0zu4MNc.js";import{E as M}from"./O5aJ7Ipg.js";import{E as V,a as F}from"./BJwtCnNB.js";import{E as A}from"./CJRYR2W1.js";import{E as G}from"./D_trYo-7.js";import{v as R}from"./U29o3j68.js";import"./ChnNiMOP.js";import"./C7dLEZkI.js";import"./BpqunBSk.js";import"./CQdKq0Vt.js";import{E as _}from"./B1mjav-x.js";import{a as T}from"./3Yncbi-l.js";import{d as $,r,k as q,c as u,o as s,a as o,v as H,m as g,q as v,g as c,F as U,f as j,b as m,t as l,p as J,e as i,_ as K}from"./C_uFub58.js";import"./CxYcxH0g.js";import"./dXWXmwas.js";import"./BM-sVEEH.js";import"./BUADUvnR.js";import"./CRxF1tn9.js";import"./BtvKXLLF.js";import"./CXVv3ulD.js";const Q={class:"order-list home"},W={class:"order-info"},X={class:"order-header"},Y={class:"order-id"},Z={class:"order-details"},tt={class:"order-actions"},et={key:1,class:"no-order-msg"},ot={key:2,class:"pagination-container"},at=$({__name:"payInfo",setup(st){const n=r([]),d=r(!0),p=r(1),f=r(10),E=r(0),N=r(0);async function y(){try{d.value=!0;const t=await T(p.value,f.value);t.code===200?(n.value=t.data.records||[],E.value=t.data.total||0,N.value=t.data.pages||0,p.value=t.data.current||1):(_.error(t.msg||"获取订单列表失败"),n.value=[])}catch(t){console.error("获取订单列表失败:",t),_.error("获取订单列表失败，请稍后重试"),n.value=[]}finally{d.value=!1}}function D(t){p.value=t,y()}function C(t){return{PENDING:"待付款",PAID:"已支付",PROCESSING:"处理中",SHIPPED:"已发货",DELIVERED:"已完成",CANCELLED:"已取消"}[t]||t}function P(t){return(t/100).toFixed(2)}function h(t){console.log("查看订单详情:",t)}async function I(t){console.log("取消订单:",t),_.warning("取消订单功能待实现")}return q(()=>{y()}),(t,e)=>{const k=B,S=M,w=V,L=F,x=A,z=G,O=R;return s(),u("div",Q,[e[6]||(e[6]=o("h2",null,"我的订单",-1)),H((s(),u("div",null,[n.value.length>0?(s(),g(L,{key:0,gutter:20},{default:c(()=>[(s(!0),u(U,null,j(n.value,a=>(s(),g(w,{span:8,key:a.id},{default:c(()=>[m(S,{class:"order-card",shadow:"hover"},{default:c(()=>[o("div",W,[o("div",X,[o("p",Y,"订单号: "+l(a.orderNo),1),o("p",{class:J(["order-status",["status",C(a.orderStatus)]])},l(C(a.orderStatus)),3)]),o("div",Z,[o("p",null,[e[0]||(e[0]=o("strong",null,"商品:",-1)),i(" "+l(a.title),1)]),o("p",null,[e[1]||(e[1]=o("strong",null,"支付方式:",-1)),i(" "+l(a.payMent||"未知"),1)]),o("p",null,[e[2]||(e[2]=o("strong",null,"订单金额:",-1)),i(" ¥"+l(P(a.totalFee)),1)]),o("p",null,[e[3]||(e[3]=o("strong",null,"创建时间:",-1)),i(" "+l(a.createTime),1)])]),o("div",tt,[m(k,{onClick:b=>h(a.id),type:"primary",size:"small"},{default:c(()=>e[4]||(e[4]=[i("查看详情")])),_:2},1032,["onClick"]),a.orderStatus==="PENDING"?(s(),g(k,{key:0,onClick:b=>I(a.id),type:"danger",size:"small",class:"cancel-btn"},{default:c(()=>e[5]||(e[5]=[i("取消订单")])),_:2},1032,["onClick"])):v("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})):d.value?v("",!0):(s(),u("div",et,[m(x,{description:"暂无订单数据"})])),n.value.length>0?(s(),u("div",ot,[m(z,{background:"",layout:"prev, pager, next, total","current-page":p.value,"page-size":f.value,total:E.value,onCurrentChange:D},null,8,["current-page","page-size","total"])])):v("",!0)])),[[O,d.value]])])}}}),ht=K(at,[["__scopeId","data-v-b5fc490a"]]);export{ht as default};
