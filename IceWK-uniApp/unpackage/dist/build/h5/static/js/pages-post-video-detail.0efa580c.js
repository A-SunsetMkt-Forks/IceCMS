(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-post-video-detail"],{"0812":function(t,o,i){"use strict";var a=i("f7eb"),n=i.n(a);n.a},5368:function(t,o,i){"use strict";var a=i("da68"),n=i.n(a);n.a},aba6:function(t,o,i){"use strict";i.r(o);var a=i("c209"),n=i("ae9a");for(var e in n)"default"!==e&&function(t){i.d(o,t,(function(){return n[t]}))}(e);i("0812"),i("5368");var s,d=i("f0c5"),r=Object(d["a"])(n["default"],a["b"],a["c"],!1,null,"5109fd41",null,!1,a["a"],s);o["default"]=r.exports},ae9a:function(t,o,i){"use strict";i.r(o);var a=i("c153"),n=i.n(a);for(var e in a)"default"!==e&&function(t){i.d(o,t,(function(){return a[t]}))}(e);o["default"]=n.a},be17:function(t,o,i){var a=i("24fb");o=a(!1),o.push([t.i,"uni-page-body[data-v-5109fd41]{background-color:#000}body.?%PAGE?%[data-v-5109fd41]{background-color:#000}",""]),t.exports=o},c153:function(t,o,i){"use strict";(function(t){i("99af"),i("a434"),i("ac1f"),i("5319"),Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var a={data:function(){return{postDetail:{content:"",media:[],userInfo:{username:""}},isSubmitD:!1,commentPopup:!1,commentList:[],focus:!1,placeholder:"说点什么...",page:1,form:{pid:0,type:1,to_uid:"",post_id:"",content:""},loadStatus:"loadmore"}},filters:{replace:function(t){return t=t.replace(/\n/g,""),t.length>20&&(t=t.substring(0,20)+"..."),t}},computed:{timestamp:function(){return Date.parse(new Date)/1e3}},onLoad:function(t){this.postId=t.id,t.scene&&(this.postId=t.scene),this.form.post_id=this.postId,this.getPostDetail(),this.getCommentList()},methods:{appShare:function(t){var o=o=this.postDetail.media[0],i=this,a=getCurrentPages();a[a.length-1].$page.fullPath;uni.share({provider:"weixin",scene:t,type:0,href:"http://xy.tujingzg.com/api/post/detail?id="+i.postId,summary:i.postDetail.content,title:i.postDetail.content,imageUrl:o,success:function(t){uni.showToast({title:"分享成功",icon:"none",duration:2e3}),i.posters=!1},fail:function(t){uni.showToast({title:"分享失败",icon:"none",duration:2e3}),i.posters=!1}})},delComment:function(t,o,i){var a=this,n=uni.getStorageSync("userInfo");t.uid==n.uid&&uni.showModal({title:"提示",content:"确定删除该评论？",success:function(n){n.confirm?a.$H.post("comment/del",{id:t.id}).then((function(t){200==t.code&&(i||0===i?a.commentList[o].children.splice(i,1):a.commentList.splice(o,1))})):n.cancel}})},onCopy:function(){var t=this;uni.setClipboardData({data:this.postDetail.content,success:function(){uni.hideToast(),t.$q.toast("复制成功","success")}})},reachBottom:function(){this.page++,this.getCommentList()},jumpUser:function(t){uni.navigateTo({url:"/pages/user/home?uid="+t})},onThumbs:function(t,o,i){var a=this;this.$H.post("comment/thumbs",{id:t}).then((function(t){200==t.code&&(i||0==i?(a.commentList[o].children[i].is_thumbs=!0,a.commentList[o].children[i].thumbs++):(a.commentList[o].is_thumbs=!0,a.commentList[o].thumbs++))}))},cancelThumbs:function(o,i,a){var n=this;t.log(i+","+a),this.$H.post("comment/cancelThumbs",{id:o}).then((function(t){200==t.code&&(a||0==a?(n.commentList[i].children[a].is_thumbs=!1,n.commentList[i].children[a].thumbs--):(n.commentList[i].is_thumbs=!1,n.commentList[i].thumbs--))}))},onReply:function(t){this.placeholder="回复："+t.userInfo.username,this.focus=!0;var o=t.pid;this.form.pid=0===o?t.id:t.pid,this.form.to_uid=t.userInfo.uid,this.form.post_id=this.postId},onBlur:function(){this.placeholder="说点什么...",this.focus=!1,this.pid=0},getCommentList:function(){var t=this;this.loadStatus="loading",this.$H.get("comment/list",{post_id:this.postId,page:this.page}).then((function(o){200==o.code&&(t.commentList=t.commentList.concat(o.result.data),o.result.current_page===o.result.last_page||0===o.result.last_page?t.loadStatus="nomore":t.loadStatus="loadmore")}))},cancelCollection:function(){var t=this;this.$H.post("post/cancelCollection",{id:this.postId}).then((function(o){200===o.code&&(t.postDetail.collection_count--,t.postDetail.is_collection=!1)}))},addCollection:function(){var t=this;this.$H.post("post/addCollection",{id:this.postId,uid:this.postDetail.uid}).then((function(o){200===o.code&&(t.postDetail.collection_count++,t.postDetail.is_collection=!0)}))},addComment:function(){var t=this;if(this.isSubmitD=!0,""==this.form.content)return this.$u.toast("评论不能为空"),void(this.isSubmitD=!1);uni.showLoading({mask:!0,title:"发布中"}),this.$H.post("post/addComment",this.form).then((function(o){200==o.code&&(t.form.content="",t.$u.toast("评论成功"),t.page=1,t.commentList=[],t.getCommentList()),t.isSubmitD=!1,uni.hideLoading()}))},getPostDetail:function(){var t=this;this.$H.get("post/detail",{id:this.postId}).then((function(o){t.postDetail=o.result}))},down:function(){var o=this;this.$H.post("post/checkint",{post_id:this.postId}).then((function(i){o.$u.toast(""),200==i.code?uni.downloadFile({url:o.postDetail.media[0],success:function(t){200===t.statusCode&&uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.hideLoading(),uni.showToast({title:"保存成功",icon:"none"})},fail:function(){uni.hideLoading(),uni.showToast({title:"保存失败，请稍后重试",icon:"none"})}})}}):(o.$u.toast(""),0==o.postDetail.integral?uni.downloadFile({url:o.postDetail.media[0],success:function(t){200===t.statusCode&&uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.hideLoading(),uni.showToast({title:"保存成功",icon:"none"})},fail:function(){uni.hideLoading(),uni.showToast({title:"保存失败，请稍后重试",icon:"none"})}})}}):uni.showModal({title:"下载将消耗一次下载次数",content:"原创作者拍摄不易，未经原创作者授权，禁止任何商业用途",success:function(i){i.confirm?o.$H.post("post/numdownimg",{post_id:o.postId}).then((function(i){t.log(i),200===i.code?uni.downloadFile({url:o.postDetail.media[0],success:function(t){200===t.statusCode&&uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.hideLoading(),uni.showToast({title:"保存成功",icon:"none"})},fail:function(){uni.hideLoading(),uni.showToast({title:"保存失败，请稍后重试",icon:"none"})}})}}):uni.showModal({title:"你的下载次数不足",content:"此内容需打赏["+o.postDetail.integral+"]音叶",success:function(i){i.confirm?o.$H.post("post/jfdownimg",{post_id:o.postId}).then((function(t){200===t.code?uni.downloadFile({url:o.postDetail.media[0],success:function(t){200===t.statusCode&&uni.saveImageToPhotosAlbum({filePath:t.tempFilePath,success:function(){uni.hideLoading(),uni.showToast({title:"保存成功",icon:"none"})},fail:function(){uni.hideLoading(),uni.showToast({title:"保存失败，请稍后重试",icon:"none"})}})}}):o.$u.toast("音叶不足，请充值音叶或成为会员")})):i.cancel&&t.log("用户点击取消")}})})):res.cancel&&t.log("用户点击取消")}}))}))},toUser:function(){uni.navigateTo({url:"/pages/user/home?uid="+this.postDetail.uid})},onComment:function(){uni.navigateTo({url:"/pages/post/comment?id="+this.postDetail.id})},onComments:function(){uni.navigateTo({url:"/pages/post/comment?id="+this.postDetail.id+"&statu=1"})}},onShareAppMessage:function(o){return"button"===o.from&&t.log(o.target),this.postDetail.media.length>0&&this.postDetail.media[0],{title:this.postDetail.content,path:"/pages/post/video-detail?id="+this.postId}},onShareTimeline:function(){this.postDetail.media[0];return{title:this.postDetail.content,query:"id="+this.postId}}};o.default=a}).call(this,i("5a52")["default"])},c209:function(t,o,i){"use strict";var a;i.d(o,"b",(function(){return n})),i.d(o,"c",(function(){return e})),i.d(o,"a",(function(){return a}));var n=function(){var t=this,o=t.$createElement,i=t._self._c||o;return i("v-uni-view",[i("v-uni-video",{staticClass:"video_",attrs:{"enable-danmu":!0,"danmu-btn":!0,autoplay:!0,"enable-play-gesture":!0,controls:!1,"show-fullscreen-btn":!1,loop:!0,src:t.postDetail.media[0]}},[t.postDetail.is_collection?i("v-uni-cover-image",{staticClass:"aiPk",staticStyle:{width:"30px",height:"30px"},attrs:{src:"/static/fav-1.png"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.cancelCollection.apply(void 0,arguments)}}}):i("v-uni-cover-image",{staticClass:"aiPk",staticStyle:{width:"30px",height:"30px"},attrs:{src:"/static/fav.png"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.addCollection.apply(void 0,arguments)}}}),i("v-uni-cover-view",{staticClass:"modelStar1",staticStyle:{color:"#FFFFFF","text-align":"center","font-size":"24rpx"}},[t._v(t._s(t.postDetail.collection_count))]),i("v-uni-cover-image",{staticClass:"modelStar",staticStyle:{width:"30px",height:"30px"},attrs:{src:"/static/comment.png"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.onComment.apply(void 0,arguments)}}}),i("v-uni-cover-view",{staticClass:"modelStar2",staticStyle:{color:"#FFFFFF","text-align":"center","font-size":"24rpx"}},[t._v(t._s(t.postDetail.comment_count))]),i("v-uni-cover-image",{staticClass:"share",staticStyle:{width:"30px",height:"30px"},attrs:{src:"/static/share.png"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.onComments.apply(void 0,arguments)}}}),i("v-uni-cover-image",{staticClass:"modelPk ",staticStyle:{width:"34px",height:"34px"},attrs:{src:"/static/down.png",mode:""},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.down.apply(void 0,arguments)}}}),t.postDetail.userInfo.vip_expire_time>t.timestamp?i("v-uni-cover-view",{staticClass:"usernames",staticStyle:{color:"red"},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toUser()}}},[t._v("@"+t._s(t.postDetail.userInfo.username))]):i("v-uni-cover-view",{staticClass:"usernames",on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toUser()}}},[t._v("@"+t._s(t.postDetail.userInfo.username))]),i("v-uni-cover-view",{staticClass:"usernamet",staticStyle:{color:"#fff",margin:"20px","font-size":"25rpx"}},[t._v(t._s(t._f("replace")(t.postDetail.content)))]),i("v-uni-cover-image",{staticClass:"avatar-img",attrs:{src:t.postDetail.userInfo.avatar,mode:""},on:{click:function(o){arguments[0]=o=t.$handleEvent(o),t.toUser.apply(void 0,arguments)}}})],1)],1)},e=[]},da68:function(t,o,i){var a=i("edb3");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("82a263c6",a,!0,{sourceMap:!1,shadowMode:!1})},edb3:function(t,o,i){var a=i("24fb");o=a(!1),o.push([t.i,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \n */\n/* 主题颜色 */.margin-b5[data-v-5109fd41]{margin-bottom:%?5?%}.margin-b10[data-v-5109fd41]{margin-bottom:%?10?%}.margin-b15[data-v-5109fd41]{margin-bottom:%?15?%}.margin-b20[data-v-5109fd41]{margin-bottom:%?20?%}.margin-b25[data-v-5109fd41]{margin-bottom:%?25?%}.margin-b30[data-v-5109fd41]{margin-bottom:%?30?%}.margin-b40[data-v-5109fd41]{margin-bottom:%?40?%}.margin-b60[data-v-5109fd41]{margin-bottom:%?60?%}.margin-b80[data-v-5109fd41]{margin-bottom:%?80?%}.margin-b100[data-v-5109fd41]{margin-bottom:%?100?%}.margin-r5[data-v-5109fd41]{margin-right:%?5?%}.margin-r10[data-v-5109fd41]{margin-right:%?10?%}.margin-r15[data-v-5109fd41]{margin-right:%?15?%}.margin-r20[data-v-5109fd41]{margin-right:%?20?%}.margin-r25[data-v-5109fd41]{margin-right:%?25?%}.margin-r30[data-v-5109fd41]{margin-right:%?30?%}.margin-r40[data-v-5109fd41]{margin-right:%?40?%}.margin-r60[data-v-5109fd41]{margin-right:%?60?%}.font-18[data-v-5109fd41]{font-style:normal;font-size:%?18?%;font-family:Droid Sans Fallback}.font-20[data-v-5109fd41]{font-style:normal;font-size:%?20?%;font-family:Droid Sans Fallback}.font-22[data-v-5109fd41]{font-style:normal;font-size:%?22?%;font-family:Droid Sans Fallback}.font-24[data-v-5109fd41]{font-style:normal;font-size:%?24?%;font-family:Droid Sans Fallback}.font-26[data-v-5109fd41]{font-style:normal;font-size:%?26?%;font-family:Droid Sans Fallback}.font-28[data-v-5109fd41]{font-style:normal;font-size:%?28?%;font-family:Droid Sans Fallback}.font-30[data-v-5109fd41]{font-style:normal;font-size:%?30?%;font-family:Droid Sans Fallback}.font-32[data-v-5109fd41]{font-style:normal;font-size:%?32?%;font-family:Droid Sans Fallback}.font-34[data-v-5109fd41]{font-style:normal;font-size:%?34?%;font-family:Droid Sans Fallback}.font-36[data-v-5109fd41]{font-style:normal;font-size:%?36?%;font-family:Droid Sans Fallback}.font-38[data-v-5109fd41]{font-style:normal;font-size:%?38?%;font-family:Droid Sans Fallback}.font-40[data-v-5109fd41]{font-style:normal;font-size:%?40?%;font-family:Droid Sans Fallback}.font-46[data-v-5109fd41]{font-style:normal;font-size:%?46?%;font-family:Droid Sans Fallback}.font-50[data-v-5109fd41]{font-style:normal;font-size:%?50?%;font-family:Droid Sans Fallback}.font-60[data-v-5109fd41]{font-style:normal;font-size:%?60?%;font-family:Droid Sans Fallback}.font-80[data-v-5109fd41]{font-style:normal;font-size:%?80?%;font-family:Droid Sans Fallback}.text-left[data-v-5109fd41]{text-align:left}.text-center[data-v-5109fd41]{text-align:center}.text-right[data-v-5109fd41]{text-align:right}.color-white[data-v-5109fd41]{color:#fff}.color-red[data-v-5109fd41]{color:#dc0000}.font-weight-400[data-v-5109fd41]{font-weight:400}.font-weight-500[data-v-5109fd41]{font-weight:700}.spacing-20[data-v-5109fd41]{width:%?750?%;height:%?20?%;background-color:#f8f8f8}.radius-10[data-v-5109fd41]{border-radius:%?10?%}.radius-20[data-v-5109fd41]{border-radius:%?20?%}.radius-30[data-v-5109fd41]{border-radius:%?30?%}.radius-circle[data-v-5109fd41]{border-radius:50%}.radius-height[data-v-5109fd41]{border-radius:10000px}.vs-flex-item[data-v-5109fd41]{flex:1}.vs-space-between[data-v-5109fd41]{justify-content:space-between}.vs-space-around[data-v-5109fd41]{justify-content:space-around}.vs-space-center[data-v-5109fd41]{justify-content:center}.vs-space-end[data-v-5109fd41]{justify-content:flex-end}.vs-row[data-v-5109fd41]{flex-direction:row}.vs-column[data-v-5109fd41]{flex-direction:column}.vs-align-end[data-v-5109fd41]{align-items:flex-end}.vs-align-center[data-v-5109fd41]{align-items:center}.vs-align-start[data-v-5109fd41]{align-items:flex-start}.vs-item-hover[data-v-5109fd41]{background-color:rgba(0,0,0,.05)}.vs-btn-hover[data-v-5109fd41]{opacity:.8}.color-base[data-v-5109fd41]{color:#50a1ff}.bg-color-base[data-v-5109fd41]{background-color:#50a1ff}\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.video_[data-v-5109fd41]{width:100%;height:100vh}.avatar-image[data-v-5109fd41]{width:40px;height:40px;border-radius:50%}\n/* .items{\n\t\t\n\t\tfloat:right;\n\t\ttext-align:right; \n\t\tbackground:rgba(0,0,0,0.2);\n\t\tcolor:#FFFFFF; \n\t\ttop:30px;\n\t\t\n\t } */.usernames[data-v-5109fd41]{position:absolute;bottom:50px;color:#fff;color:#fff;margin-left:20px;font-size:%?28?%;margin-bottom:%?20?%}.usernamet[data-v-5109fd41]{position:absolute;bottom:20px;color:#fff;color:#fff;margin-bottom:%?20?%}.texts[data-v-5109fd41]{\n  /* position:absolute; */color:#fff;font-size:14px;text-align:center;bottom:0;width:54px;margin-left:-12%\n  /* left:10%; */}.avatar-img[data-v-5109fd41]{position:absolute;right:10px;top:300px;width:35px;height:35px;border-radius:50%}.aiPk[data-v-5109fd41]{position:absolute;right:0;top:360px;width:54px;height:54px;padding:2px 13px\n  /* margin:0 14px; */}.modelStar[data-v-5109fd41]{position:absolute;right:0;top:420px;width:54px;height:54px;padding:3px 13px}.modelStar1[data-v-5109fd41]{position:absolute;right:0;top:390px;width:54px;height:54px;padding:3px 1px}.modelStar2[data-v-5109fd41]{position:absolute;right:0;top:450px;width:54px;height:54px;padding:3px 1px}.commit[data-v-5109fd41]{position:absolute;right:0;top:480px;width:54px;height:54px;padding:3px 13px}.share[data-v-5109fd41]{position:absolute;right:0;top:480px;width:54px;height:54px;padding:3px 13px}.modelPk[data-v-5109fd41]{position:absolute;right:0;top:540px;width:54px;height:54px;padding:1px 8px}.view1[data-v-5109fd41]{flex:1}.active[data-v-5109fd41]{background-color:#fff}.slideWrap[data-v-5109fd41]{height:25px;width:246px;border:1px solid #fff;border-radius:10px;font-size:26px;position:absolute;background:#fff;flex-direction:row;border-color:#fff;border-width:1px;\n  /* left:-50%; */-webkit-transform:translateX(50%);transform:translateX(50%)}.slideText[data-v-5109fd41]{color:#fff;font-size:14px;text-align:center;line-height:23px}.activeText[data-v-5109fd41]{color:#000}.tool-box[data-v-5109fd41]{position:absolute;bottom:%?100?%;right:%?30?%;color:#fff;font-size:%?24?%;z-index:999}.tool-box .item[data-v-5109fd41]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:%?30?%}.tool-box .item .iconfont[data-v-5109fd41]{font-size:%?60?%}.tool-box .item uni-image[data-v-5109fd41]{width:%?50?%;height:%?50?%}\n/* 评论tool */.comment-tool[data-v-5109fd41]{position:fixed;bottom:0;width:100%;background-color:#fff;padding:%?20?%;display:flex;z-index:999}.comment-tool uni-textarea[data-v-5109fd41]{padding:%?20?%;border-radius:%?10?%;min-height:%?40?%}.comment-tool .u-btn[data-v-5109fd41]{margin-left:%?10?%}\n/*评论列表*/\n/*评论列表*/.comment-box[data-v-5109fd41]{background-color:#fff;margin-top:%?20?%}.comment-box > .title[data-v-5109fd41]{margin:%?20?%}.comment-item[data-v-5109fd41]{display:flex;padding:%?20?%}.comment-item[data-v-5109fd41]:active{background-color:#f5f5f5}.comment-item .c-content[data-v-5109fd41]{display:flex;flex-direction:column;flex:1}.comment-item .c-content .time[data-v-5109fd41]{color:#999;font-size:10px}.comment-item .c-content .user[data-v-5109fd41]{display:flex}.comment-item .c-content .user .thumbs[data-v-5109fd41]{margin-left:auto;display:flex;align-items:center;color:#bfbfbf}.comment-item .c-content .user .thumbs .num[data-v-5109fd41]{margin-right:%?10?%}.comment-item .avatar[data-v-5109fd41]{width:%?100?%;height:%?100?%;border-radius:50%;border:1px solid #dd524d;margin-right:%?20?%}.sub-comment-item[data-v-5109fd41]{margin-left:%?100?%;padding:%?20?%}.sub-comment-item[data-v-5109fd41]:active{background-color:#f5f5f5}.sub-comment-item .user[data-v-5109fd41]{display:flex;align-items:center}.sub-comment-item .user .name[data-v-5109fd41]{color:#616161}.sub-comment-item .user .avatar[data-v-5109fd41]{margin-right:%?10?%}.sub-comment-item .user .u-head[data-v-5109fd41]{flex:1;display:flex}.sub-comment-item .user .u-head .thumbs[data-v-5109fd41]{margin-left:auto;display:flex;align-items:center;color:#bfbfbf}.sub-comment-item .user .u-head .thumbs .num[data-v-5109fd41]{margin-right:%?10?%}.sub-comment-item .reply .time[data-v-5109fd41]{margin-left:auto;font-size:%?20?%;color:#999}.sub-comment-item .reply .name[data-v-5109fd41]{display:inline-block;color:#2b85e4;font-weight:600}.footer[data-v-5109fd41]{position:absolute;bottom:0;width:100%;color:#fff;padding:%?20?%}.footer .username[data-v-5109fd41]{margin-bottom:%?20?%}',""]),t.exports=o},f7eb:function(t,o,i){var a=i("be17");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("629335c9",a,!0,{sourceMap:!1,shadowMode:!1})}}]);